{
  "nodes": [
    {
      "id": "4fe6402a02fa",
      "name": "test_memory_retrieval",
      "type": "file",
      "path": "test_memory_retrieval.py",
      "description": "Python模块，包含0个类，1个函数",
      "size": 2202,
      "complexity": 7,
      "x": 636.3905167864299,
      "y": -0.005649110194252341,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "requests"
        ],
        "classes": [],
        "functions": [
          {
            "name": "test_retrieve_memory",
            "args": [
              "query",
              "project_id"
            ],
            "docstring": "测试记忆检索"
          }
        ],
        "lines": 77,
        "x": 636.3905167864299,
        "y": -0.005649110194252341
      }
    },
    {
      "id": "342e1fdbbb6c",
      "name": "mcp_server_enterprise",
      "type": "file",
      "path": "mcp_server_enterprise.py",
      "description": "Python模块，包含5个类，1个函数",
      "size": 35537,
      "complexity": 77,
      "x": 635.5604517275632,
      "y": 32.48906481853678,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "asyncio",
          "time",
          "typing",
          "aiohttp",
          "aiohttp_cors",
          "datetime",
          "collections",
          "sys",
          "os",
          "uuid",
          "hashlib",
          "dataclasses",
          "psutil",
          "mcp_server_unified",
          "argparse",
          "src.mcp_core.services.websocket_service",
          "src.mcp_core.services.websocket_service",
          "src.mcp_core.services.dynamic_db_pool",
          "src.mcp_core.services.vector_db",
          "traceback",
          "traceback"
        ],
        "classes": [
          {
            "name": "ConnectionInfo",
            "methods": [
              "to_dict"
            ],
            "docstring": "连接信息"
          },
          {
            "name": "RequestMetrics",
            "methods": [],
            "docstring": "请求指标"
          },
          {
            "name": "ServerStats",
            "methods": [],
            "docstring": "服务器统计"
          },
          {
            "name": "RateLimiter",
            "methods": [
              "__init__",
              "is_allowed",
              "get_remaining"
            ],
            "docstring": "令牌桶限流器"
          },
          {
            "name": "MCPEnterpriseServer",
            "methods": [
              "__init__",
              "_setup_middleware",
              "_setup_routes",
              "_check_auth",
              "_check_rate_limit",
              "_record_request",
              "run"
            ],
            "docstring": "企业级MCP服务器\n\n功能描述:\n- 提供生产级的MCP协议服务，支持HTTP与SSE传输\n- 集成API密钥认证、IP白名单、请求限流与监控统计\n- 管理端点包括健康检查、统计、连接列表与Prometheus指标\n\n修改者：zhang\n\n参数:\n- host: 监听地址\n- port: 监听端口\n- config_file: 配置文件路径（可选）\n- api_keys: 允许访问的API密钥集合（可选）\n- allowed_ips: 允许访问的IP白名单集合（可选）\n- enable_cors: 是否启用CORS\n- rate_limit: 每窗口允许的最大请求数\n- max_connections: 允许的最大并发连接数\n\n返回值:\n- 无（作为服务器类，提供运行与端点处理方法）\n\n异常:\n- 端点处理过程中可能抛出aiohttp相关异常，统一在处理函数中捕获"
          }
        ],
        "functions": [
          {
            "name": "main",
            "args": [],
            "docstring": null
          }
        ],
        "lines": 1000,
        "x": 635.5604517275632,
        "y": 32.48906481853678
      }
    },
    {
      "id": "0bcdc4643809",
      "name": "mcp_server_unified",
      "type": "file",
      "path": "mcp_server_unified.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 21890,
      "complexity": 53,
      "x": 633.0722452859769,
      "y": 64.89902568491951,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "sys",
          "os",
          "logging",
          "typing",
          "datetime",
          "sqlalchemy",
          "sqlalchemy.orm",
          "config_manager",
          "src.mcp_core.services.memory_service",
          "src.mcp_core.code_knowledge_service",
          "src.mcp_core.project_context_service",
          "src.mcp_core.ai_understanding_service",
          "src.mcp_core.quality_guardian_service",
          "src.mcp_core.multi_lang_analyzer",
          "src.mcp_core.code_mcp_tools",
          "src.mcp_core.context_mcp_tools",
          "src.mcp_core.quality_mcp_tools",
          "src.mcp_core.services.error_firewall_service",
          "src.mcp_core.api.v1.tools.error_firewall",
          "argparse",
          "sys",
          "pathlib",
          "mcp_core.services.memory_service",
          "mcp_core.code_knowledge_service",
          "mcp_core.project_context_service",
          "mcp_core.ai_understanding_service",
          "mcp_core.quality_guardian_service",
          "mcp_core.multi_lang_analyzer",
          "mcp_core.code_mcp_tools",
          "mcp_core.context_mcp_tools",
          "mcp_core.quality_mcp_tools",
          "mcp_core.services.error_firewall_service",
          "mcp_core.api.v1.tools.error_firewall",
          "asyncio",
          "pathlib",
          "sqlalchemy.exc",
          "concurrent.futures"
        ],
        "classes": [
          {
            "name": "UnifiedMCPServer",
            "methods": [
              "__init__",
              "_setup_logging",
              "_init_services",
              "get_all_tools",
              "handle_request",
              "_handle_initialize",
              "_handle_tools_list",
              "_handle_tools_call",
              "_call_memory_tool",
              "_call_code_tool",
              "_call_context_tool",
              "_call_ai_tool",
              "_call_quality_tool",
              "_call_error_firewall_tool",
              "_error_response",
              "run",
              "cleanup"
            ],
            "docstring": "统一MCP服务器 - v2.0.0"
          }
        ],
        "functions": [
          {
            "name": "main",
            "args": [],
            "docstring": "主入口"
          }
        ],
        "lines": 571,
        "x": 633.0722452859769,
        "y": 64.89902568491951
      }
    },
    {
      "id": "31e61285a22b",
      "name": "test_mcp_server",
      "type": "file",
      "path": "test_mcp_server.py",
      "description": "Python模块，包含0个类，2个函数",
      "size": 4104,
      "complexity": 14,
      "x": 628.9324212416361,
      "y": 97.13968525016449,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "subprocess",
          "sys",
          "traceback"
        ],
        "classes": [],
        "functions": [
          {
            "name": "send_request",
            "args": [
              "process",
              "method",
              "params"
            ],
            "docstring": "发送JSON-RPC请求"
          },
          {
            "name": "main",
            "args": [],
            "docstring": "测试MCP服务端"
          }
        ],
        "lines": 144,
        "x": 628.9324212416361,
        "y": 97.13968525016449
      }
    },
    {
      "id": "cd0844baf971",
      "name": "config_manager",
      "type": "file",
      "path": "config_manager.py",
      "description": "Python模块，包含5个类，3个函数",
      "size": 10351,
      "complexity": 71,
      "x": 623.1517504795938,
      "y": 129.1269133136415,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "typing",
          "dataclasses",
          "json",
          "urllib.parse",
          "re"
        ],
        "classes": [
          {
            "name": "DatabaseConfig",
            "methods": [
              "url"
            ],
            "docstring": "数据库配置"
          },
          {
            "name": "AIConfig",
            "methods": [
              "enabled"
            ],
            "docstring": "AI服务配置"
          },
          {
            "name": "ServerConfig",
            "methods": [],
            "docstring": "服务器配置"
          },
          {
            "name": "PerformanceConfig",
            "methods": [],
            "docstring": "性能配置"
          },
          {
            "name": "ConfigManager",
            "methods": [
              "__init__",
              "_load_from_env",
              "_parse_database_url",
              "_load_from_file",
              "validate",
              "save_to_file",
              "print_summary"
            ],
            "docstring": "配置管理器"
          }
        ],
        "functions": [
          {
            "name": "create_default_config",
            "args": [
              "config_file"
            ],
            "docstring": "创建默认配置文件"
          },
          {
            "name": "load_config",
            "args": [
              "config_file"
            ],
            "docstring": "加载配置\n\n优先级: 环境变量 > 配置文件 > 默认值"
          },
          {
            "name": "test_config_manager",
            "args": [],
            "docstring": "测试配置管理器"
          }
        ],
        "lines": 320,
        "x": 623.1517504795938,
        "y": 129.1269133136415
      }
    },
    {
      "id": "ea127b08f922",
      "name": "test_simple_graph",
      "type": "file",
      "path": "test_simple_graph.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 5521,
      "complexity": 5,
      "x": 615.7453285033533,
      "y": 160.77728697761358,
      "metadata": {
        "language": "python",
        "imports": [
          "asyncio",
          "json",
          "pathlib",
          "sys",
          "src.mcp_core.services.project_graph_generator"
        ],
        "classes": [],
        "functions": [],
        "lines": 179,
        "x": 615.7453285033533,
        "y": 160.77728697761358
      }
    },
    {
      "id": "1372b7bb99c9",
      "name": "generate_mcp_graph",
      "type": "file",
      "path": "generate_mcp_graph.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 12697,
      "complexity": 5,
      "x": 606.7324217458365,
      "y": 192.00825189303683,
      "metadata": {
        "language": "python",
        "imports": [
          "asyncio",
          "json",
          "pathlib",
          "sys",
          "src.mcp_core.services.project_graph_generator"
        ],
        "classes": [],
        "functions": [],
        "lines": 398,
        "x": 606.7324217458365,
        "y": 192.00825189303683
      }
    },
    {
      "id": "083805acc140",
      "name": "test_error_firewall",
      "type": "file",
      "path": "test_error_firewall.py",
      "description": "Python模块，包含0个类，1个函数",
      "size": 7071,
      "complexity": 13,
      "x": 596.1366214354979,
      "y": 222.73828967105416,
      "metadata": {
        "language": "python",
        "imports": [
          "asyncio",
          "sys",
          "os",
          "sqlalchemy",
          "sqlalchemy.orm",
          "src.mcp_core.services.error_firewall_service",
          "src.mcp_core.api.v1.tools.error_firewall",
          "traceback"
        ],
        "classes": [],
        "functions": [
          {
            "name": "get_db_session",
            "args": [],
            "docstring": "获取数据库会话"
          }
        ],
        "lines": 220,
        "x": 596.1366214354979,
        "y": 222.73828967105416
      }
    },
    {
      "id": "855b9964d0ae",
      "name": "mcp_client_http",
      "type": "file",
      "path": "mcp_client_http.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 2132,
      "complexity": 19,
      "x": 583.9854990488782,
      "y": 252.88727637440468,
      "metadata": {
        "language": "python",
        "imports": [
          "sys",
          "json",
          "requests",
          "typing"
        ],
        "classes": [
          {
            "name": "MCPHTTPClient",
            "methods": [
              "__init__",
              "call_tool",
              "run"
            ],
            "docstring": "MCP HTTP客户端 - 将stdio请求转发到HTTP服务器"
          }
        ],
        "functions": [
          {
            "name": "main",
            "args": [],
            "docstring": null
          }
        ],
        "lines": 75,
        "x": 583.9854990488782,
        "y": 252.88727637440468
      }
    },
    {
      "id": "1ffc23cad397",
      "name": "test_project_context_fix",
      "type": "file",
      "path": "test_project_context_fix.py",
      "description": "Python模块，包含0个类，1个函数",
      "size": 5757,
      "complexity": 11,
      "x": 570.3107981172096,
      "y": 282.3765514005343,
      "metadata": {
        "language": "python",
        "imports": [
          "sys",
          "os",
          "sqlalchemy",
          "sqlalchemy.orm",
          "mcp_core.project_context_service",
          "traceback"
        ],
        "classes": [],
        "functions": [
          {
            "name": "test_project_context",
            "args": [],
            "docstring": "测试项目上下文服务的所有功能"
          }
        ],
        "lines": 163,
        "x": 570.3107981172096,
        "y": 282.3765514005343
      }
    },
    {
      "id": "962ce4332f0f",
      "name": "test_graph_generator",
      "type": "file",
      "path": "test_graph_generator.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 5293,
      "complexity": 7,
      "x": 555.1481663169322,
      "y": 311.129200896763,
      "metadata": {
        "language": "python",
        "imports": [
          "asyncio",
          "os",
          "sys",
          "pathlib",
          "src.mcp_tools.graph_generator_tool",
          "src.mcp_core.common.logger",
          "src.mcp_core.services.project_graph_generator"
        ],
        "classes": [],
        "functions": [],
        "lines": 161,
        "x": 555.1481663169322,
        "y": 311.129200896763
      }
    },
    {
      "id": "0de4551d187a",
      "name": "test_end_to_end",
      "type": "file",
      "path": "test_end_to_end.py",
      "description": "Python模块，包含2个类，9个函数",
      "size": 22868,
      "complexity": 75,
      "x": 538.5371558593814,
      "y": 339.07024872689055,
      "metadata": {
        "language": "python",
        "imports": [
          "argparse",
          "json",
          "sys",
          "time",
          "datetime",
          "pathlib",
          "typing",
          "config_manager",
          "mcp_server_unified",
          "traceback"
        ],
        "classes": [
          {
            "name": "TestResult",
            "methods": [
              "__init__"
            ],
            "docstring": "测试结果"
          },
          {
            "name": "TestRunner",
            "methods": [
              "__init__",
              "run_test",
              "print_summary"
            ],
            "docstring": "测试运行器"
          }
        ],
        "functions": [
          {
            "name": "test_memory_tools",
            "args": [
              "runner"
            ],
            "docstring": "测试基础记忆工具 (2个)"
          },
          {
            "name": "test_code_analysis_tools",
            "args": [
              "runner"
            ],
            "docstring": "测试代码分析工具 (8个)"
          },
          {
            "name": "test_context_management_tools",
            "args": [
              "runner"
            ],
            "docstring": "测试项目上下文管理工具 (12个)"
          },
          {
            "name": "test_quality_guardian_tools",
            "args": [
              "runner"
            ],
            "docstring": "测试质量守护工具 (8个)"
          },
          {
            "name": "test_ai_tools",
            "args": [
              "runner",
              "skip_if_no_key"
            ],
            "docstring": "测试AI辅助工具 (7个)"
          },
          {
            "name": "test_complete_workflow",
            "args": [
              "runner"
            ],
            "docstring": "测试完整开发工作流"
          },
          {
            "name": "test_performance",
            "args": [
              "runner"
            ],
            "docstring": "性能基准测试"
          },
          {
            "name": "test_error_handling",
            "args": [
              "runner"
            ],
            "docstring": "错误处理测试"
          },
          {
            "name": "main",
            "args": [],
            "docstring": "主入口"
          }
        ],
        "lines": 763,
        "x": 538.5371558593814,
        "y": 339.07024872689055
      }
    },
    {
      "id": "becde423f07f",
      "name": "test_intelligent_code_generator",
      "type": "file",
      "path": "test_intelligent_code_generator.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 11600,
      "complexity": 6,
      "x": 520.5210312278156,
      "y": 366.1267890080061,
      "metadata": {
        "language": "python",
        "imports": [
          "asyncio",
          "json",
          "typing",
          "src.mcp_core.services.intelligent_code_generator",
          "src.mcp_core.common.logger",
          "time"
        ],
        "classes": [],
        "functions": [],
        "lines": 425,
        "x": 520.5210312278156,
        "y": 366.1267890080061
      }
    },
    {
      "id": "2eeaed663bd0",
      "name": "setup",
      "type": "file",
      "path": "setup.py",
      "description": "Python模块，包含1个类，12个函数",
      "size": 15746,
      "complexity": 87,
      "x": 501.1468840671363,
      "y": 392.22825444696986,
      "metadata": {
        "language": "python",
        "imports": [
          "argparse",
          "json",
          "os",
          "subprocess",
          "sys",
          "pathlib",
          "typing",
          "urllib.parse",
          "pymysql",
          "sqlalchemy",
          "sqlalchemy.orm",
          "src.mcp_core.models.tables",
          "src.mcp_core.code_knowledge_service",
          "src.mcp_core.project_context_service",
          "src.mcp_core.quality_guardian_service",
          "traceback",
          "traceback"
        ],
        "classes": [
          {
            "name": "Colors",
            "methods": [],
            "docstring": null
          }
        ],
        "functions": [
          {
            "name": "print_header",
            "args": [
              "text"
            ],
            "docstring": "打印标题"
          },
          {
            "name": "print_success",
            "args": [
              "text"
            ],
            "docstring": "打印成功信息"
          },
          {
            "name": "print_warning",
            "args": [
              "text"
            ],
            "docstring": "打印警告信息"
          },
          {
            "name": "print_error",
            "args": [
              "text"
            ],
            "docstring": "打印错误信息"
          },
          {
            "name": "print_info",
            "args": [
              "text"
            ],
            "docstring": "打印信息"
          },
          {
            "name": "check_python_version",
            "args": [],
            "docstring": "检查Python版本 (需要 >= 3.9)"
          },
          {
            "name": "check_and_install_dependencies",
            "args": [
              "auto_install"
            ],
            "docstring": "检查并安装依赖"
          },
          {
            "name": "check_mysql_connection",
            "args": [
              "config"
            ],
            "docstring": "检查MySQL连接"
          },
          {
            "name": "create_database_tables",
            "args": [
              "config"
            ],
            "docstring": "创建所有数据库表"
          },
          {
            "name": "generate_config_file",
            "args": [
              "output_path"
            ],
            "docstring": "生成默认配置文件"
          },
          {
            "name": "verify_installation",
            "args": [
              "config"
            ],
            "docstring": "验证安装"
          },
          {
            "name": "main",
            "args": [],
            "docstring": "主入口"
          }
        ],
        "lines": 472,
        "x": 501.1468840671363,
        "y": 392.22825444696986
      }
    },
    {
      "id": "0c1f8f8f5b0d",
      "name": "test_design_decision_fix",
      "type": "file",
      "path": "test_design_decision_fix.py",
      "description": "Python模块，包含0个类，1个函数",
      "size": 1806,
      "complexity": 11,
      "x": 480.4651347531289,
      "y": 417.30658430527586,
      "metadata": {
        "language": "python",
        "imports": [
          "sys",
          "os",
          "sqlalchemy",
          "sqlalchemy.orm",
          "src.mcp_core.services.memory_service",
          "traceback"
        ],
        "classes": [],
        "functions": [
          {
            "name": "test_design_decision",
            "args": [],
            "docstring": "测试设计决策存储"
          }
        ],
        "lines": 63,
        "x": 480.4651347531289,
        "y": 417.30658430527586
      }
    },
    {
      "id": "fb3ec566da6e",
      "name": "test_websocket_realdata",
      "type": "file",
      "path": "test_websocket_realdata.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 3500,
      "complexity": 4,
      "x": 458.52976002459445,
      "y": 441.29641848473585,
      "metadata": {
        "language": "python",
        "imports": [
          "asyncio",
          "websockets",
          "json",
          "sys"
        ],
        "classes": [],
        "functions": [],
        "lines": 101,
        "x": 458.52976002459445,
        "y": 441.29641848473585
      }
    },
    {
      "id": "1695db7f60aa",
      "name": "test_ai_assisted_development",
      "type": "file",
      "path": ".archived/scripts/test_ai_assisted_development.py",
      "description": "Python模块，包含0个类，2个函数",
      "size": 13569,
      "complexity": 18,
      "x": 435.3978307851411,
      "y": 464.13520849511957,
      "metadata": {
        "language": "python",
        "imports": [
          "sys",
          "os",
          "sqlalchemy",
          "sqlalchemy.orm",
          "src.mcp_core.project_context_service",
          "src.mcp_core.code_knowledge_service",
          "src.mcp_core.context_mcp_tools",
          "src.mcp_core.ai_understanding_service"
        ],
        "classes": [],
        "functions": [
          {
            "name": "print_section",
            "args": [
              "title"
            ],
            "docstring": "打印分节标题"
          },
          {
            "name": "test_complete_workflow",
            "args": [],
            "docstring": "测试完整工作流"
          }
        ],
        "lines": 352,
        "x": 435.3978307851411,
        "y": 464.13520849511957
      }
    },
    {
      "id": "20f5ce286e51",
      "name": "test_code_knowledge_graph",
      "type": "file",
      "path": ".archived/scripts/test_code_knowledge_graph.py",
      "description": "Python模块，包含0个类，6个函数",
      "size": 7294,
      "complexity": 39,
      "x": 411.129773544773,
      "y": 485.7633732208445,
      "metadata": {
        "language": "python",
        "imports": [
          "sys",
          "json",
          "pathlib",
          "sqlalchemy",
          "sqlalchemy.orm",
          "src.mcp_core.code_analyzer",
          "src.mcp_core.code_knowledge_service",
          "src.mcp_core.code_mcp_tools",
          "traceback"
        ],
        "classes": [],
        "functions": [
          {
            "name": "print_section",
            "args": [
              "title"
            ],
            "docstring": "打印章节标题"
          },
          {
            "name": "test_code_analysis",
            "args": [],
            "docstring": "测试1: 代码分析"
          },
          {
            "name": "test_storage",
            "args": [
              "result"
            ],
            "docstring": "测试2: 知识图谱存储"
          },
          {
            "name": "test_queries",
            "args": [
              "project_id"
            ],
            "docstring": "测试3: 查询功能"
          },
          {
            "name": "test_mcp_tools",
            "args": [
              "project_id"
            ],
            "docstring": "测试4: MCP工具"
          },
          {
            "name": "main",
            "args": [],
            "docstring": "主测试流程"
          }
        ],
        "lines": 241,
        "x": 411.129773544773,
        "y": 485.7633732208445
      }
    },
    {
      "id": "c780331576f5",
      "name": "mcp_server_complete",
      "type": "file",
      "path": ".archived/servers/mcp_server_complete.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 18045,
      "complexity": 29,
      "x": 385.7886778642896,
      "y": 506.12455810208303,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "sys",
          "os",
          "logging",
          "typing",
          "sqlalchemy",
          "sqlalchemy.orm",
          "src.mcp_core.services.memory_service",
          "src.mcp_core.code_knowledge_service",
          "src.mcp_core.project_context_service",
          "src.mcp_core.code_mcp_tools",
          "src.mcp_core.context_mcp_tools",
          "src.mcp_core.ai_understanding_service",
          "src.mcp_core.multi_lang_analyzer"
        ],
        "classes": [
          {
            "name": "CompleteMCPServer",
            "methods": [
              "__init__",
              "_init_services",
              "handle_request",
              "_handle_initialize",
              "_handle_tools_list",
              "_handle_tools_call",
              "_call_store_memory",
              "_call_retrieve_memory",
              "_call_analyze_codebase",
              "_call_query_architecture",
              "_call_find_entity",
              "_call_trace_function_calls",
              "_call_find_dependencies",
              "_call_list_modules",
              "_call_explain_module",
              "_call_search_code_pattern",
              "_call_ai_tool",
              "_error_response",
              "run"
            ],
            "docstring": "完整的MCP服务器"
          }
        ],
        "functions": [
          {
            "name": "main",
            "args": [],
            "docstring": "主入口"
          }
        ],
        "lines": 495,
        "x": 385.7886778642896,
        "y": 506.12455810208303
      }
    },
    {
      "id": "1b09da4fefbe",
      "name": "mcp_server_http_simple",
      "type": "file",
      "path": ".archived/servers/mcp_server_http_simple.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 7243,
      "complexity": 26,
      "x": 359.4405139467847,
      "y": 525.16578685344,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "asyncio",
          "typing",
          "aiohttp",
          "aiohttp_cors",
          "datetime",
          "sys",
          "os",
          "mcp_server_unified",
          "argparse",
          "traceback"
        ],
        "classes": [
          {
            "name": "MCPStandardServer",
            "methods": [
              "__init__",
              "_setup_routes",
              "run"
            ],
            "docstring": "MCP标准HTTP服务器"
          }
        ],
        "functions": [
          {
            "name": "main",
            "args": [],
            "docstring": null
          }
        ],
        "lines": 241,
        "x": 359.4405139467847,
        "y": 525.16578685344
      }
    },
    {
      "id": "6a71f9c8e530",
      "name": "mcp_server_http_sse",
      "type": "file",
      "path": ".archived/servers/mcp_server_http_sse.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 10238,
      "complexity": 27,
      "x": 332.1538481815295,
      "y": 542.8372955180906,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "asyncio",
          "typing",
          "aiohttp",
          "aiohttp_cors",
          "datetime",
          "sys",
          "os",
          "uuid",
          "mcp_server_unified",
          "argparse",
          "traceback"
        ],
        "classes": [
          {
            "name": "MCPHTTPSSEServer",
            "methods": [
              "__init__",
              "_setup_routes",
              "run"
            ],
            "docstring": "MCP HTTP+SSE服务器"
          }
        ],
        "functions": [
          {
            "name": "main",
            "args": [],
            "docstring": null
          }
        ],
        "lines": 310,
        "x": 332.1538481815295,
        "y": 542.8372955180906
      }
    },
    {
      "id": "31616cebb991",
      "name": "mcp_server_http",
      "type": "file",
      "path": ".archived/servers/mcp_server_http.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 9573,
      "complexity": 24,
      "x": 303.9995639747945,
      "y": 559.0930812713533,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "sys",
          "asyncio",
          "typing",
          "aiohttp",
          "aiohttp_cors",
          "datetime",
          "mcp_server_unified",
          "argparse"
        ],
        "classes": [
          {
            "name": "MCPHTTPServer",
            "methods": [
              "__init__",
              "_setup_routes",
              "run"
            ],
            "docstring": "MCP HTTP服务器 - 包装stdio MCP服务器为HTTP API"
          }
        ],
        "functions": [
          {
            "name": "main",
            "args": [],
            "docstring": "主函数"
          }
        ],
        "lines": 305,
        "x": 303.9995639747945,
        "y": 559.0930812713533
      }
    },
    {
      "id": "0f3826465d17",
      "name": "mcp_server_sse",
      "type": "file",
      "path": ".archived/servers/mcp_server_sse.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 10328,
      "complexity": 25,
      "x": 275.0508064074181,
      "y": 573.8906290482985,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "asyncio",
          "typing",
          "aiohttp",
          "aiohttp_cors",
          "datetime",
          "sys",
          "os",
          "mcp_server_unified",
          "argparse"
        ],
        "classes": [
          {
            "name": "MCPSSEServer",
            "methods": [
              "__init__",
              "_setup_routes",
              "run"
            ],
            "docstring": "MCP SSE服务器 - 提供基于HTTP SSE的MCP协议"
          }
        ],
        "functions": [
          {
            "name": "main",
            "args": [],
            "docstring": null
          }
        ],
        "lines": 298,
        "x": 275.0508064074181,
        "y": 573.8906290482985
      }
    },
    {
      "id": "f1b34c67c0a6",
      "name": "test_memory_service",
      "type": "file",
      "path": "tests/test_memory_service.py",
      "description": "Python模块，包含2个类，0个函数",
      "size": 8367,
      "complexity": 22,
      "x": 245.38248122403022,
      "y": 587.191176228785,
      "metadata": {
        "language": "python",
        "imports": [
          "pytest",
          "src.mcp_core.services.memory_service"
        ],
        "classes": [
          {
            "name": "TestMemoryService",
            "methods": [
              "test_extract_keywords_chinese",
              "test_extract_keywords_english",
              "test_extract_keywords_mixed",
              "test_store_memory_success",
              "test_retrieve_memory_success",
              "test_retrieve_memory_empty_query",
              "test_retrieve_memory_invalid_project_id",
              "test_retrieve_memory_no_results",
              "test_store_multiple_memories",
              "test_relevance_score_ordering"
            ],
            "docstring": "记忆服务测试类"
          },
          {
            "name": "TestMemoryServiceIntegration",
            "methods": [
              "test_full_memory_workflow"
            ],
            "docstring": "记忆服务集成测试"
          }
        ],
        "functions": [],
        "lines": 242,
        "x": 245.38248122403022,
        "y": 587.191176228785
      }
    },
    {
      "id": "d7344fdab5b6",
      "name": "test_evolution_framework",
      "type": "file",
      "path": "tests/test_evolution_framework.py",
      "description": "Python模块，包含7个类，2个函数",
      "size": 21269,
      "complexity": 97,
      "x": 215.07162768965168,
      "y": 598.959533796712,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "sys",
          "json",
          "time",
          "asyncio",
          "unittest",
          "datetime",
          "typing",
          "unittest.mock",
          "numpy",
          "src.mcp_core.services.learning_system",
          "src.mcp_core.services.pattern_recognizer",
          "src.mcp_core.services.experience_manager",
          "src.mcp_core.services.graph_generator",
          "src.mcp_core.services.collaboration_controller",
          "shutil",
          "src.mcp_core.services.websocket_server"
        ],
        "classes": [
          {
            "name": "EvolutionTestBase",
            "methods": [
              "setUpClass",
              "tearDownClass",
              "create_test_session",
              "create_test_experience"
            ],
            "docstring": "测试基类"
          },
          {
            "name": "TestLearningSystem",
            "methods": [
              "setUp",
              "test_learn_from_session",
              "test_suggest_solution",
              "test_extract_patterns",
              "test_evaluate_experience_value"
            ],
            "docstring": "学习系统单元测试"
          },
          {
            "name": "TestPatternRecognizer",
            "methods": [
              "setUp",
              "test_recognize_singleton_pattern",
              "test_detect_anti_patterns",
              "test_feature_extraction"
            ],
            "docstring": "模式识别器单元测试"
          },
          {
            "name": "TestExperienceManager",
            "methods": [
              "setUp",
              "test_store_and_retrieve_experience",
              "test_experience_evolution",
              "test_experience_sharing"
            ],
            "docstring": "经验管理器单元测试"
          },
          {
            "name": "TestCollaborationController",
            "methods": [
              "setUp",
              "test_task_assignment",
              "test_lock_mechanism",
              "test_conflict_detection"
            ],
            "docstring": "协作控制器单元测试"
          },
          {
            "name": "TestIntegration",
            "methods": [
              "test_learning_and_pattern_integration",
              "test_experience_and_suggestion_integration"
            ],
            "docstring": "集成测试"
          },
          {
            "name": "TestPerformance",
            "methods": [
              "test_learning_performance",
              "test_pattern_recognition_performance",
              "test_lock_contention_performance"
            ],
            "docstring": "性能测试"
          }
        ],
        "functions": [
          {
            "name": "create_test_suite",
            "args": [],
            "docstring": "创建测试套件"
          },
          {
            "name": "run_tests",
            "args": [
              "verbosity"
            ],
            "docstring": "运行所有测试"
          }
        ],
        "lines": 667,
        "x": 215.07162768965168,
        "y": 598.959533796712
      }
    },
    {
      "id": "484462fced51",
      "name": "conftest",
      "type": "file",
      "path": "tests/conftest.py",
      "description": "Python模块，包含0个类，9个函数",
      "size": 3469,
      "complexity": 53,
      "x": 184.1970733329713,
      "y": 609.1641601430866,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "pytest",
          "sqlalchemy",
          "sqlalchemy.orm",
          "typing",
          "src.mcp_core.services.redis_client",
          "src.mcp_core.services.memory_service",
          "src.mcp_core.services.project_context_service"
        ],
        "classes": [],
        "functions": [
          {
            "name": "db_engine",
            "args": [],
            "docstring": "创建测试数据库引擎 (session级别)"
          },
          {
            "name": "db_session",
            "args": [
              "db_engine"
            ],
            "docstring": "创建数据库会话 (function级别 - 每个测试独立)"
          },
          {
            "name": "redis_client",
            "args": [],
            "docstring": "创建Redis客户端 (function级别)"
          },
          {
            "name": "memory_service",
            "args": [
              "db_session"
            ],
            "docstring": "创建记忆服务实例 (function级别)"
          },
          {
            "name": "project_context_service",
            "args": [
              "db_session"
            ],
            "docstring": "创建项目上下文服务实例 (function级别)"
          },
          {
            "name": "sample_project_id",
            "args": [],
            "docstring": "提供测试项目ID"
          },
          {
            "name": "sample_memory_data",
            "args": [],
            "docstring": "提供测试记忆数据"
          },
          {
            "name": "sample_session_data",
            "args": [],
            "docstring": "提供测试会话数据"
          },
          {
            "name": "pytest_configure",
            "args": [
              "config"
            ],
            "docstring": "配置pytest markers"
          }
        ],
        "lines": 127,
        "x": 184.1970733329713,
        "y": 609.1641601430866
      }
    },
    {
      "id": "cf779b9c4e79",
      "name": "test_vector_db",
      "type": "file",
      "path": "tests/test_vector_db.py",
      "description": "Python模块，包含9个类，0个函数",
      "size": 21539,
      "complexity": 95,
      "x": 152.83934774830567,
      "y": 617.7774182497052,
      "metadata": {
        "language": "python",
        "imports": [
          "pytest",
          "unittest.mock",
          "pymilvus",
          "src.mcp_core.services.vector_db",
          "src.mcp_core.services.vector_db"
        ],
        "classes": [
          {
            "name": "TestVectorDBClientInit",
            "methods": [
              "test_init_success",
              "test_init_connection_error",
              "test_init_collections_creates_missing",
              "test_init_collections_skips_existing"
            ],
            "docstring": "向量数据库客户端初始化测试"
          },
          {
            "name": "TestCollectionManagement",
            "methods": [
              "mock_vector_client",
              "test_create_collection_success",
              "test_drop_collection_success",
              "test_drop_collection_not_exists"
            ],
            "docstring": "Collection管理测试"
          },
          {
            "name": "TestVectorOperations",
            "methods": [
              "mock_vector_client",
              "test_insert_vectors_success",
              "test_insert_vectors_batch",
              "test_insert_vectors_error",
              "test_convert_to_entities"
            ],
            "docstring": "向量操作测试"
          },
          {
            "name": "TestVectorSearch",
            "methods": [
              "mock_vector_client",
              "test_search_vectors_success",
              "test_search_vectors_with_filter",
              "test_search_vectors_loads_collection",
              "test_search_vectors_error"
            ],
            "docstring": "向量检索测试"
          },
          {
            "name": "TestVectorDeletion",
            "methods": [
              "mock_vector_client",
              "test_delete_vectors_success",
              "test_delete_vectors_error"
            ],
            "docstring": "向量删除测试"
          },
          {
            "name": "TestConditionalQuery",
            "methods": [
              "mock_vector_client",
              "test_query_vectors_success",
              "test_query_vectors_with_output_fields",
              "test_query_vectors_error"
            ],
            "docstring": "条件查询测试"
          },
          {
            "name": "TestCollectionStats",
            "methods": [
              "mock_vector_client",
              "test_get_collection_stats_success",
              "test_get_collection_stats_error"
            ],
            "docstring": "Collection统计测试"
          },
          {
            "name": "TestConnectionManagement",
            "methods": [
              "mock_vector_client",
              "test_close_connection"
            ],
            "docstring": "连接管理测试"
          },
          {
            "name": "TestSingletonPattern",
            "methods": [
              "test_get_vector_db_client_singleton"
            ],
            "docstring": "单例模式测试"
          }
        ],
        "functions": [],
        "lines": 609,
        "x": 152.83934774830567,
        "y": 617.7774182497052
      }
    },
    {
      "id": "c300251e986f",
      "name": "test_redis_client",
      "type": "file",
      "path": "tests/test_redis_client.py",
      "description": "Python模块，包含6个类，0个函数",
      "size": 17686,
      "complexity": 67,
      "x": 121.0814535117766,
      "y": 624.7759734811498,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "pytest",
          "unittest.mock",
          "datetime",
          "src.mcp_core.services.redis_client",
          "redis",
          "src.mcp_core.services.redis_client"
        ],
        "classes": [
          {
            "name": "TestRedisClientInit",
            "methods": [
              "test_init_success",
              "test_init_connection_error",
              "test_mask_url"
            ],
            "docstring": "Redis客户端初始化测试"
          },
          {
            "name": "TestShortMemoryOperations",
            "methods": [
              "mock_redis_client",
              "test_store_short_memory_success",
              "test_store_short_memory_with_custom_ttl",
              "test_get_short_memories_success",
              "test_get_short_memories_empty",
              "test_get_short_memories_invalid_json",
              "test_delete_short_memory_success",
              "test_delete_short_memory_not_found"
            ],
            "docstring": "短期记忆操作测试"
          },
          {
            "name": "TestCacheOperations",
            "methods": [
              "mock_redis_client",
              "test_cache_retrieval_result_success",
              "test_get_cached_retrieval_hit",
              "test_get_cached_retrieval_miss",
              "test_invalidate_cache_success",
              "test_invalidate_cache_no_keys"
            ],
            "docstring": "缓存操作测试"
          },
          {
            "name": "TestStatisticsOperations",
            "methods": [
              "mock_redis_client",
              "test_increment_token_saved_success",
              "test_increment_token_saved_with_custom_date",
              "test_get_token_stats_success",
              "test_get_token_stats_partial_data"
            ],
            "docstring": "统计操作测试"
          },
          {
            "name": "TestGenericOperations",
            "methods": [
              "mock_redis_client",
              "test_exists_key_true",
              "test_exists_key_false",
              "test_delete_keys_success",
              "test_delete_no_keys",
              "test_ttl_key",
              "test_close_connection",
              "test_context_manager"
            ],
            "docstring": "通用操作测试"
          },
          {
            "name": "TestSingletonPattern",
            "methods": [
              "test_get_redis_client_singleton"
            ],
            "docstring": "单例模式测试"
          }
        ],
        "functions": [],
        "lines": 531,
        "x": 121.0814535117766,
        "y": 624.7759734811498
      }
    },
    {
      "id": "9c0d75717f48",
      "name": "test_project_context_service",
      "type": "file",
      "path": "tests/test_project_context_service.py",
      "description": "Python模块，包含4个类，0个函数",
      "size": 17632,
      "complexity": 44,
      "x": 89.00835735570132,
      "y": 630.1399676815731,
      "metadata": {
        "language": "python",
        "imports": [
          "pytest",
          "datetime",
          "unittest.mock",
          "src.mcp_core.project_context_service"
        ],
        "classes": [
          {
            "name": "TestSessionManagement",
            "methods": [
              "mock_db",
              "context_manager",
              "test_start_session_success",
              "test_start_session_with_custom_id",
              "test_end_session_success",
              "test_end_session_not_found",
              "test_end_session_with_files_and_issues",
              "test_get_last_session",
              "test_get_session_history",
              "test_update_session_summary"
            ],
            "docstring": "会话管理测试"
          },
          {
            "name": "TestDesignDecisionManagement",
            "methods": [
              "mock_db",
              "context_manager",
              "test_record_decision_success",
              "test_record_decision_with_alternatives",
              "test_get_decisions_all",
              "test_get_decisions_by_category",
              "test_supersede_decision"
            ],
            "docstring": "设计决策管理测试"
          },
          {
            "name": "TestProjectNoteManagement",
            "methods": [
              "mock_db",
              "context_manager",
              "test_add_note_success",
              "test_add_note_with_code_and_tags",
              "test_get_notes_all",
              "test_get_notes_by_category",
              "test_get_notes_by_importance",
              "test_get_notes_unresolved_only",
              "test_resolve_note"
            ],
            "docstring": "项目笔记管理测试"
          },
          {
            "name": "TestDataModels",
            "methods": [
              "test_project_session_model",
              "test_design_decision_model",
              "test_project_note_model",
              "test_development_todo_model"
            ],
            "docstring": "数据模型测试"
          }
        ],
        "functions": [],
        "lines": 549,
        "x": 89.00835735570132,
        "y": 630.1399676815731
      }
    },
    {
      "id": "e0928f4e3bc6",
      "name": "test_evolution_system",
      "type": "file",
      "path": "tests/test_evolution_system.py",
      "description": "Python模块，包含0个类，5个函数",
      "size": 14373,
      "complexity": 36,
      "x": 56.701822526171185,
      "y": 633.8563116774385,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "sys",
          "json",
          "time",
          "datetime",
          "asyncio",
          "src.mcp_core.services.learning_system",
          "src.mcp_core.services.graph_generator",
          "src.mcp_core.services.collaboration_controller",
          "time",
          "random"
        ],
        "classes": [],
        "functions": [
          {
            "name": "test_learning_system",
            "args": [],
            "docstring": "测试编码学习系统"
          },
          {
            "name": "test_graph_generator",
            "args": [],
            "docstring": "测试项目图谱生成"
          },
          {
            "name": "test_collaboration_controller",
            "args": [],
            "docstring": "测试多AI协同控制"
          },
          {
            "name": "test_performance",
            "args": [],
            "docstring": "性能测试"
          },
          {
            "name": "main",
            "args": [],
            "docstring": "运行所有测试"
          }
        ],
        "lines": 470,
        "x": 56.701822526171185,
        "y": 633.8563116774385
      }
    },
    {
      "id": "6adec165ff2e",
      "name": "test_websocket_client",
      "type": "file",
      "path": "tests/test_websocket_client.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 2452,
      "complexity": 4,
      "x": 24.249305857199737,
      "y": 635.9167924835682,
      "metadata": {
        "language": "python",
        "imports": [
          "asyncio",
          "aiohttp",
          "json",
          "datetime"
        ],
        "classes": [],
        "functions": [],
        "lines": 69,
        "x": 24.249305857199737,
        "y": 635.9167924835682
      }
    },
    {
      "id": "9dbf7672c4fa",
      "name": "test_config_manager",
      "type": "file",
      "path": "tests/test_config_manager.py",
      "description": "Python模块，包含8个类，0个函数",
      "size": 14126,
      "complexity": 86,
      "x": -8.26405702254596,
      "y": 636.3160468614624,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "json",
          "pytest",
          "tempfile",
          "unittest.mock",
          "config_manager"
        ],
        "classes": [
          {
            "name": "TestDatabaseConfig",
            "methods": [
              "test_database_config_defaults",
              "test_database_url_generation",
              "test_database_url_special_password"
            ],
            "docstring": "数据库配置测试"
          },
          {
            "name": "TestAIConfig",
            "methods": [
              "test_ai_config_defaults",
              "test_ai_enabled_with_key",
              "test_ai_disabled_without_key",
              "test_ai_disabled_empty_key"
            ],
            "docstring": "AI配置测试"
          },
          {
            "name": "TestConfigManagerInit",
            "methods": [
              "test_init_without_file",
              "test_init_with_nonexistent_file",
              "test_init_with_valid_file"
            ],
            "docstring": "配置管理器初始化测试"
          },
          {
            "name": "TestEnvironmentVariableLoading",
            "methods": [
              "test_load_from_env_database",
              "test_load_from_env_database_url",
              "test_load_from_env_anthropic_key",
              "test_load_from_env_openai_key",
              "test_load_from_env_server_and_performance"
            ],
            "docstring": "环境变量加载测试"
          },
          {
            "name": "TestConfigValidation",
            "methods": [
              "test_validate_success",
              "test_validate_missing_host",
              "test_validate_missing_user",
              "test_validate_missing_database"
            ],
            "docstring": "配置验证测试"
          },
          {
            "name": "TestConfigSaveLoad",
            "methods": [
              "test_save_to_file_success",
              "test_save_to_file_creates_directory",
              "test_load_from_file_success",
              "test_load_from_file_invalid_json"
            ],
            "docstring": "配置保存和加载测试"
          },
          {
            "name": "TestHelperFunctions",
            "methods": [
              "test_create_default_config",
              "test_load_config_success",
              "test_load_config_validation_error"
            ],
            "docstring": "辅助函数测试"
          },
          {
            "name": "TestParseDatabaseURL",
            "methods": [
              "test_parse_database_url_standard",
              "test_parse_database_url_invalid"
            ],
            "docstring": "数据库URL解析测试"
          }
        ],
        "functions": [],
        "lines": 490,
        "x": -8.26405702254596,
        "y": 636.3160468614624
      }
    },
    {
      "id": "cc99b386e5b1",
      "name": "test_memory_service",
      "type": "file",
      "path": "tests/unit/test_memory_service.py",
      "description": "Python模块，包含3个类，2个函数",
      "size": 5830,
      "complexity": 46,
      "x": -40.75375659689456,
      "y": 635.0535672365872,
      "metadata": {
        "language": "python",
        "imports": [
          "pytest",
          "unittest.mock",
          "datetime",
          "src.mcp_core.services.memory_service",
          "src.mcp_core.models.tables",
          "time"
        ],
        "classes": [
          {
            "name": "TestMemoryService",
            "methods": [
              "test_extract_core_info",
              "test_extract_core_info_long_content",
              "test_calculate_relevance_score",
              "test_deduplicate_memories",
              "test_extract_keywords",
              "test_store_memory_validation",
              "test_store_long_memory_success",
              "test_retrieve_memory_cache_hit"
            ],
            "docstring": "记忆服务测试类"
          },
          {
            "name": "TestMemoryServiceIntegration",
            "methods": [
              "test_full_memory_lifecycle"
            ],
            "docstring": "集成测试(需要真实数据库连接)"
          },
          {
            "name": "TestMemoryPerformance",
            "methods": [
              "test_retrieval_performance"
            ],
            "docstring": "性能测试"
          }
        ],
        "functions": [
          {
            "name": "mock_db_session",
            "args": [],
            "docstring": "Mock数据库会话"
          },
          {
            "name": "memory_service",
            "args": [
              "mock_db_session"
            ],
            "docstring": "Memory Service fixture"
          }
        ],
        "lines": 163,
        "x": -40.75375659689456,
        "y": 635.0535672365872
      }
    },
    {
      "id": "6ad0160b1cd2",
      "name": "__init__",
      "type": "file",
      "path": "tests/unit/__init__.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 56,
      "complexity": 0,
      "x": -73.13531882848741,
      "y": 632.1330217220658,
      "metadata": {
        "language": "python",
        "imports": [],
        "classes": [],
        "functions": [],
        "lines": 3,
        "x": -73.13531882848741,
        "y": 632.1330217220658
      }
    },
    {
      "id": "88768485e9dd",
      "name": "test_hallucination_service",
      "type": "file",
      "path": "tests/unit/test_hallucination_service.py",
      "description": "Python模块，包含4个类，2个函数",
      "size": 10013,
      "complexity": 54,
      "x": -105.32464242790176,
      "y": 627.5619546439386,
      "metadata": {
        "language": "python",
        "imports": [
          "pytest",
          "numpy",
          "unittest.mock",
          "src.mcp_core.services.hallucination_service"
        ],
        "classes": [
          {
            "name": "TestHallucinationValidationService",
            "methods": [
              "test_init",
              "test_detect_no_hallucination",
              "test_detect_hallucination",
              "test_detect_no_memories",
              "test_detect_without_memory_service",
              "test_batch_detect"
            ],
            "docstring": "幻觉验证服务测试"
          },
          {
            "name": "TestAdaptiveThreshold",
            "methods": [
              "test_long_query_adjustment",
              "test_code_block_adjustment",
              "test_tech_terms_adjustment",
              "test_memory_count_adjustment",
              "test_threshold_bounds",
              "test_is_complex_task"
            ],
            "docstring": "自适应阈值测试"
          },
          {
            "name": "TestFactoryFunction",
            "methods": [
              "test_create_hallucination_service"
            ],
            "docstring": "工厂函数测试"
          },
          {
            "name": "TestEdgeCases",
            "methods": [
              "test_empty_output",
              "test_very_short_output",
              "test_custom_threshold",
              "test_threshold_clamping"
            ],
            "docstring": "边缘案例测试"
          }
        ],
        "functions": [
          {
            "name": "mock_memory_service",
            "args": [],
            "docstring": "Mock记忆服务"
          },
          {
            "name": "hallucination_service",
            "args": [
              "mock_memory_service"
            ],
            "docstring": "幻觉服务fixture"
          }
        ],
        "lines": 297,
        "x": -105.32464242790176,
        "y": 627.5619546439386
      }
    },
    {
      "id": "f41b76a4746f",
      "name": "test_embedding_service",
      "type": "file",
      "path": "tests/unit/test_embedding_service.py",
      "description": "Python模块，包含2个类，1个函数",
      "size": 4963,
      "complexity": 30,
      "x": -137.23790571180155,
      "y": 621.3519760448464,
      "metadata": {
        "language": "python",
        "imports": [
          "pytest",
          "numpy",
          "unittest.mock",
          "src.mcp_core.services.embedding_service",
          "time"
        ],
        "classes": [
          {
            "name": "TestEmbeddingService",
            "methods": [
              "test_encode_single",
              "test_encode_single_returns_list",
              "test_encode_batch",
              "test_calculate_similarity_cosine",
              "test_calculate_similarity_different_vectors",
              "test_find_most_similar",
              "test_get_dimension",
              "test_get_model_info",
              "test_cache_functionality",
              "test_invalid_similarity_metric"
            ],
            "docstring": "嵌入服务测试类"
          },
          {
            "name": "TestEmbeddingPerformance",
            "methods": [
              "test_batch_encoding_performance"
            ],
            "docstring": "嵌入服务性能测试"
          }
        ],
        "functions": [
          {
            "name": "embedding_service",
            "args": [],
            "docstring": "Embedding Service fixture"
          }
        ],
        "lines": 156,
        "x": -137.23790571180155,
        "y": 621.3519760448464
      }
    },
    {
      "id": "7abb6753bbcd",
      "name": "test_token_service",
      "type": "file",
      "path": "tests/unit/test_token_service.py",
      "description": "Python模块，包含4个类，1个函数",
      "size": 8945,
      "complexity": 50,
      "x": -168.79204686665304,
      "y": 613.5187148008316,
      "metadata": {
        "language": "python",
        "imports": [
          "pytest",
          "unittest.mock",
          "src.mcp_core.services.token_service",
          "src.mcp_core.services.compressors.code_compressor",
          "src.mcp_core.services.compressors.text_compressor"
        ],
        "classes": [
          {
            "name": "TestTokenOptimizationService",
            "methods": [
              "test_count_tokens_english",
              "test_count_tokens_chinese",
              "test_count_tokens_mixed",
              "test_detect_content_type_code",
              "test_detect_content_type_text",
              "test_compress_short_content",
              "test_compress_content_with_cache",
              "test_compress_content_auto_detect",
              "test_batch_compress",
              "test_calculate_token_savings"
            ],
            "docstring": "Token优化服务测试"
          },
          {
            "name": "TestCodeCompressor",
            "methods": [
              "test_detect_language_python",
              "test_detect_language_javascript",
              "test_compress_python_code",
              "test_compress_generic_code"
            ],
            "docstring": "代码压缩器测试"
          },
          {
            "name": "TestTextCompressor",
            "methods": [
              "test_split_sentences",
              "test_calculate_sentence_score",
              "test_compress_with_truncation",
              "test_extract_keywords"
            ],
            "docstring": "文本压缩器测试"
          },
          {
            "name": "TestCompressionQuality",
            "methods": [
              "test_compression_rate_target",
              "test_compression_preserves_meaning"
            ],
            "docstring": "压缩质量测试"
          }
        ],
        "functions": [
          {
            "name": "token_service",
            "args": [],
            "docstring": "Token服务fixture"
          }
        ],
        "lines": 278,
        "x": -168.79204686665304,
        "y": 613.5187148008316
      }
    },
    {
      "id": "4666d063bb9f",
      "name": "download_models",
      "type": "file",
      "path": "scripts/download_models.py",
      "description": "Python模块，包含0个类，6个函数",
      "size": 10847,
      "complexity": 37,
      "x": -199.9052832117312,
      "y": 604.0818356350112,
      "metadata": {
        "language": "python",
        "imports": [
          "argparse",
          "sys",
          "pathlib",
          "typing",
          "yaml",
          "requests",
          "tqdm"
        ],
        "classes": [],
        "functions": [
          {
            "name": "load_config",
            "args": [
              "config_path"
            ],
            "docstring": "加载配置文件"
          },
          {
            "name": "download_file",
            "args": [
              "url",
              "save_path",
              "use_mirror",
              "mirror_url"
            ],
            "docstring": "下载单个文件\n\nArgs:\n    url: 下载URL\n    save_path: 保存路径\n    use_mirror: 是否使用镜像\n    mirror_url: 镜像URL"
          },
          {
            "name": "download_model",
            "args": [
              "model_type",
              "config",
              "force",
              "use_mirror"
            ],
            "docstring": "下载指定类型的模型\n\nArgs:\n    model_type: 模型类型 (embedding/code)\n    config: 配置字典\n    force: 是否强制重新下载\n    use_mirror: 是否使用镜像\n\nReturns:\n    是否成功"
          },
          {
            "name": "validate_model",
            "args": [
              "model_type",
              "config"
            ],
            "docstring": "验证模型文件完整性\n\nArgs:\n    model_type: 模型类型\n    config: 配置字典\n\nReturns:\n    是否有效"
          },
          {
            "name": "list_models",
            "args": [
              "config"
            ],
            "docstring": "列出所有可下载的模型"
          },
          {
            "name": "main",
            "args": [],
            "docstring": null
          }
        ],
        "lines": 385,
        "x": -199.9052832117312,
        "y": 604.0818356350112
      }
    },
    {
      "id": "cba94e871740",
      "name": "refactor_base",
      "type": "file",
      "path": "scripts/refactor_base.py",
      "description": "Python模块，包含0个类，2个函数",
      "size": 3740,
      "complexity": 13,
      "x": -230.4968241994501,
      "y": 593.0649765771686,
      "metadata": {
        "language": "python",
        "imports": [
          "re",
          "os",
          "pathlib"
        ],
        "classes": [],
        "functions": [
          {
            "name": "refactor_file",
            "args": [
              "file_path"
            ],
            "docstring": "重构单个文件\n\nArgs:\n    file_path: 文件路径\n\nReturns:\n    是否修改成功"
          },
          {
            "name": "main",
            "args": [],
            "docstring": "主函数"
          }
        ],
        "lines": 136,
        "x": -230.4968241994501,
        "y": 593.0649765771686
      }
    },
    {
      "id": "db3b360dec9a",
      "name": "init_database",
      "type": "file",
      "path": "scripts/init_database.py",
      "description": "Python模块，包含0个类，4个函数",
      "size": 6116,
      "complexity": 29,
      "x": -260.4875871882623,
      "y": 580.4956223150169,
      "metadata": {
        "language": "python",
        "imports": [
          "sys",
          "pathlib",
          "passlib.context",
          "sqlalchemy",
          "src.mcp_core.common.config",
          "src.mcp_core.common.logger",
          "src.mcp_core.common.utils",
          "src.mcp_core.models.database",
          "src.mcp_core.models.tables"
        ],
        "classes": [],
        "functions": [
          {
            "name": "create_tables",
            "args": [],
            "docstring": "创建所有表"
          },
          {
            "name": "insert_initial_data",
            "args": [],
            "docstring": "插入初始数据"
          },
          {
            "name": "check_database_connection",
            "args": [],
            "docstring": "检查数据库连接"
          },
          {
            "name": "main",
            "args": [],
            "docstring": "主函数"
          }
        ],
        "lines": 199,
        "x": -260.4875871882623,
        "y": 580.4956223150169
      }
    },
    {
      "id": "6120d07163e0",
      "name": "verify_config",
      "type": "file",
      "path": "scripts/verify_config.py",
      "description": "Python模块，包含0个类，7个函数",
      "size": 6898,
      "complexity": 42,
      "x": -289.80102642241206,
      "y": 566.4051358184691,
      "metadata": {
        "language": "python",
        "imports": [
          "sys",
          "pathlib",
          "sqlalchemy",
          "urllib.parse",
          "src.mcp_core.common.config",
          "src.mcp_core.common.config",
          "redis"
        ],
        "classes": [],
        "functions": [
          {
            "name": "check_config_file",
            "args": [],
            "docstring": "检查配置文件是否存在"
          },
          {
            "name": "check_database_url",
            "args": [],
            "docstring": "检查数据库URL配置"
          },
          {
            "name": "check_mysql_connection",
            "args": [
              "db_url"
            ],
            "docstring": "检查MySQL连接"
          },
          {
            "name": "check_database_tables",
            "args": [
              "db_url"
            ],
            "docstring": "检查数据库表"
          },
          {
            "name": "check_redis_connection",
            "args": [],
            "docstring": "检查Redis连接"
          },
          {
            "name": "check_dependencies",
            "args": [],
            "docstring": "检查Python依赖"
          },
          {
            "name": "main",
            "args": [],
            "docstring": "主函数"
          }
        ],
        "lines": 251,
        "x": -289.80102642241206,
        "y": 566.4051358184691
      }
    },
    {
      "id": "cc747cbcf7a4",
      "name": "eslint.config",
      "type": "file",
      "path": "mcp-admin-ui/eslint.config.js",
      "description": "JavaScript模块，包含0个类，0个函数，0个组件",
      "size": 616,
      "complexity": 0,
      "x": -318.36184613054877,
      "y": 550.8298671093618,
      "metadata": {
        "language": "javascript",
        "imports": [
          "@eslint/js",
          "globals",
          "eslint-plugin-react-hooks",
          "eslint-plugin-react-refresh",
          "typescript-eslint",
          "eslint/config"
        ],
        "functions": [],
        "classes": [],
        "components": [],
        "lines": 23,
        "x": -318.36184613054877,
        "y": 550.8298671093618
      }
    },
    {
      "id": "94e8cfbb6629",
      "name": "vite.config",
      "type": "file",
      "path": "mcp-admin-ui/vite.config.ts",
      "description": "TypeScript模块，包含0个接口，0个类型定义",
      "size": 161,
      "complexity": 0,
      "x": -346.09767210821803,
      "y": 533.8091276987126,
      "metadata": {
        "language": "typescript",
        "imports": [
          "vite",
          "@vitejs/plugin-react"
        ],
        "functions": [],
        "classes": [],
        "components": [],
        "lines": 7,
        "interfaces": [],
        "types": [],
        "x": -346.09767210821803,
        "y": 533.8091276987126
      }
    },
    {
      "id": "25baff532b5d",
      "name": "App",
      "type": "file",
      "path": "mcp-admin-ui/src/App.tsx",
      "description": "JavaScript模块，包含0个类，1个函数，1个组件",
      "size": 3597,
      "complexity": 12,
      "x": -1000.0,
      "y": -295.4105040666171,
      "metadata": {
        "language": "javascript",
        "imports": [
          "react",
          "antd",
          "./pages/Dashboard",
          "./services/websocket"
        ],
        "functions": [
          "App"
        ],
        "classes": [],
        "components": [
          "handleReconnect"
        ],
        "lines": 131,
        "framework": "react",
        "x": -1000.0,
        "y": -295.4105040666171
      }
    },
    {
      "id": "4bc6767d0bc8",
      "name": "main",
      "type": "file",
      "path": "mcp-admin-ui/src/main.tsx",
      "description": "JavaScript模块，包含0个类，0个函数，0个组件",
      "size": 230,
      "complexity": 0,
      "x": -398.67331931770013,
      "y": 495.7292142330694,
      "metadata": {
        "language": "javascript",
        "imports": [
          "react",
          "react-dom/client",
          "./App.tsx"
        ],
        "functions": [],
        "classes": [],
        "components": [],
        "lines": 10,
        "framework": "react",
        "x": -398.67331931770013,
        "y": 495.7292142330694
      }
    },
    {
      "id": "e8fed71e8cb4",
      "name": "index",
      "type": "file",
      "path": "mcp-admin-ui/src/types/index.ts",
      "description": "TypeScript模块，包含7个接口，0个类型定义",
      "size": 1659,
      "complexity": 0,
      "x": 67.88357611901144,
      "y": 366.13671320039214,
      "metadata": {
        "language": "typescript",
        "imports": [],
        "functions": [],
        "classes": [],
        "components": [],
        "lines": 81,
        "interfaces": [
          "WSMessage",
          "PoolStats",
          "VectorSearchStats",
          "ErrorFirewallEvent",
          "SystemAlert",
          "OverviewStats",
          "ActivityLog"
        ],
        "types": [],
        "x": 67.88357611901144,
        "y": 366.13671320039214
      }
    },
    {
      "id": "a8f5bd892a69",
      "name": "OverviewTab",
      "type": "file",
      "path": "mcp-admin-ui/src/components/OverviewTab.tsx",
      "description": "JavaScript模块，包含0个类，0个函数，0个组件",
      "size": 10597,
      "complexity": 0,
      "x": -478.43350496068643,
      "y": 678.7061859443525,
      "metadata": {
        "language": "javascript",
        "imports": [
          "react",
          "antd",
          "echarts-for-react/lib/core",
          "echarts/core",
          "echarts/charts",
          "echarts/renderers",
          "../services/websocket",
          "../types"
        ],
        "functions": [],
        "classes": [],
        "components": [],
        "lines": 384,
        "framework": "react",
        "x": -478.43350496068643,
        "y": 678.7061859443525
      }
    },
    {
      "id": "4b27deef884e",
      "name": "ConnectionPoolTab",
      "type": "file",
      "path": "mcp-admin-ui/src/components/ConnectionPoolTab.tsx",
      "description": "JavaScript模块，包含0个类，0个函数，0个组件",
      "size": 11713,
      "complexity": 0,
      "x": -479.0078413419579,
      "y": 678.4678735969785,
      "metadata": {
        "language": "javascript",
        "imports": [
          "react",
          "antd",
          "echarts-for-react/lib/core",
          "echarts/core",
          "echarts/charts",
          "echarts/renderers",
          "../services/websocket",
          "../types"
        ],
        "functions": [],
        "classes": [],
        "components": [],
        "lines": 464,
        "framework": "react",
        "x": -479.0078413419579,
        "y": 678.4678735969785
      }
    },
    {
      "id": "76e3ca749a08",
      "name": "ErrorFirewallTab",
      "type": "file",
      "path": "mcp-admin-ui/src/components/ErrorFirewallTab.tsx",
      "description": "JavaScript模块，包含0个类，0个函数，0个组件",
      "size": 6244,
      "complexity": 0,
      "x": -479.6162400648473,
      "y": 678.1957529056664,
      "metadata": {
        "language": "javascript",
        "imports": [
          "react",
          "antd",
          "@ant-design/icons",
          "echarts-for-react/lib/core",
          "echarts/core",
          "echarts/charts",
          "echarts/components",
          "echarts/renderers",
          "../services/websocket",
          "../types"
        ],
        "functions": [],
        "classes": [],
        "components": [],
        "lines": 170,
        "framework": "react",
        "x": -479.6162400648473,
        "y": 678.1957529056664
      }
    },
    {
      "id": "c594fcd72ae9",
      "name": "VectorSearchTab",
      "type": "file",
      "path": "mcp-admin-ui/src/components/VectorSearchTab.tsx",
      "description": "JavaScript模块，包含0个类，0个函数，0个组件",
      "size": 5699,
      "complexity": 0,
      "x": -480.2468073806495,
      "y": 677.8970296310079,
      "metadata": {
        "language": "javascript",
        "imports": [
          "react",
          "antd",
          "@ant-design/icons",
          "echarts-for-react/lib/core",
          "echarts/core",
          "echarts/charts",
          "echarts/components",
          "echarts/renderers",
          "../services/websocket",
          "../types"
        ],
        "functions": [],
        "classes": [],
        "components": [],
        "lines": 171,
        "framework": "react",
        "x": -480.2468073806495,
        "y": 677.8970296310079
      }
    },
    {
      "id": "3f8176d2c26b",
      "name": "ProjectGraph",
      "type": "file",
      "path": "mcp-admin-ui/src/components/evolution/ProjectGraph.tsx",
      "description": "JavaScript模块，包含0个类，3个函数，2个组件",
      "size": 14243,
      "complexity": 29,
      "x": -529.4755346990953,
      "y": 352.8200064309077,
      "metadata": {
        "language": "javascript",
        "imports": [
          "react",
          "antd",
          "d3"
        ],
        "functions": [
          "dragstarted",
          "dragged",
          "dragended"
        ],
        "classes": [],
        "components": [
          "renderGraph",
          "handleResize"
        ],
        "lines": 472,
        "framework": "react",
        "x": -529.4755346990953,
        "y": 352.8200064309077
      }
    },
    {
      "id": "232d3b1bc5e8",
      "name": "PatternLibrary",
      "type": "file",
      "path": "mcp-admin-ui/src/components/evolution/PatternLibrary.tsx",
      "description": "JavaScript模块，包含0个类，0个函数，2个组件",
      "size": 23180,
      "complexity": 14,
      "x": -546.8352172266718,
      "y": 325.3103859579578,
      "metadata": {
        "language": "javascript",
        "imports": [
          "react",
          "react-syntax-highlighter",
          "react-syntax-highlighter/dist/esm/styles/prism"
        ],
        "functions": [],
        "classes": [],
        "components": [
          "toggleFavorite",
          "exportPattern"
        ],
        "lines": 746,
        "framework": "react",
        "x": -546.8352172266718,
        "y": 325.3103859579578
      }
    },
    {
      "id": "93f4d5631543",
      "name": "ExperienceHub",
      "type": "file",
      "path": "mcp-admin-ui/src/components/evolution/ExperienceHub.tsx",
      "description": "JavaScript模块，包含0个类，0个函数，0个组件",
      "size": 26781,
      "complexity": 0,
      "x": -562.7579978953999,
      "y": 296.9535262433661,
      "metadata": {
        "language": "javascript",
        "imports": [
          "react",
          "react-syntax-highlighter",
          "react-syntax-highlighter/dist/esm/styles/prism"
        ],
        "functions": [],
        "classes": [],
        "components": [],
        "lines": 863,
        "framework": "react",
        "x": -562.7579978953999,
        "y": 296.9535262433661
      }
    },
    {
      "id": "5e60843b22df",
      "name": "CollaborationMonitor",
      "type": "file",
      "path": "mcp-admin-ui/src/components/evolution/CollaborationMonitor.tsx",
      "description": "JavaScript模块，包含0个类，0个函数，3个组件",
      "size": 25998,
      "complexity": 21,
      "x": -577.2063987293145,
      "y": 267.82130793618205,
      "metadata": {
        "language": "javascript",
        "imports": [
          "react"
        ],
        "functions": [],
        "classes": [],
        "components": [
          "getAgentStatusTag",
          "getLockStatusTag",
          "getTaskStatusTag"
        ],
        "lines": 880,
        "framework": "react",
        "x": -577.2063987293145,
        "y": 267.82130793618205
      }
    },
    {
      "id": "cb7b018a7018",
      "name": "LearningDashboard",
      "type": "file",
      "path": "mcp-admin-ui/src/components/evolution/LearningDashboard.tsx",
      "description": "JavaScript模块，包含0个类，0个函数，0个组件",
      "size": 22423,
      "complexity": 0,
      "x": -590.1443898575878,
      "y": 237.98899687821168,
      "metadata": {
        "language": "javascript",
        "imports": [
          "react"
        ],
        "functions": [],
        "classes": [],
        "components": [],
        "lines": 706,
        "framework": "react",
        "x": -590.1443898575878,
        "y": 237.98899687821168
      }
    },
    {
      "id": "600110404fc1",
      "name": "Dashboard",
      "type": "file",
      "path": "mcp-admin-ui/src/pages/Dashboard.tsx",
      "description": "JavaScript模块，包含0个类，0个函数，0个组件",
      "size": 2251,
      "complexity": 0,
      "x": -601.5394930238327,
      "y": 207.5337737521906,
      "metadata": {
        "language": "javascript",
        "imports": [
          "antd",
          "../components/OverviewTab",
          "../components/ConnectionPoolTab",
          "../components/VectorSearchTab",
          "../components/ErrorFirewallTab"
        ],
        "functions": [],
        "classes": [],
        "components": [],
        "lines": 100,
        "framework": "react",
        "x": -601.5394930238327,
        "y": 207.5337737521906
      }
    },
    {
      "id": "80cf0939842e",
      "name": "websocket",
      "type": "file",
      "path": "mcp-admin-ui/src/services/websocket.ts",
      "description": "TypeScript模块，包含0个接口，1个类型定义",
      "size": 6928,
      "complexity": 15,
      "x": -475.34437702643515,
      "y": 48.71678137456609,
      "metadata": {
        "language": "typescript",
        "imports": [
          "../types"
        ],
        "functions": [
          "getWebSocketClient"
        ],
        "classes": [
          "WebSocketClient"
        ],
        "components": [],
        "lines": 265,
        "interfaces": [],
        "types": [
          "MessageHandler"
        ],
        "x": -475.34437702643515,
        "y": 48.71678137456609
      }
    },
    {
      "id": "f7d702c59251",
      "name": "websocketClient",
      "type": "file",
      "path": "mcp-admin-ui/src/services/websocketClient.ts",
      "description": "TypeScript模块，包含3个接口，0个类型定义",
      "size": 9871,
      "complexity": 20,
      "x": -619.5420070230737,
      "y": 145.25446325479248,
      "metadata": {
        "language": "typescript",
        "imports": [
          "events",
          "react"
        ],
        "functions": [
          "useWebSocket",
          "getWebSocketClient"
        ],
        "classes": [
          "WebSocketClient"
        ],
        "components": [],
        "lines": 415,
        "interfaces": [
          "WebSocketMessage",
          "WebSocketConfig",
          "UseWebSocketOptions"
        ],
        "types": [],
        "x": -619.5420070230737,
        "y": 145.25446325479248
      }
    },
    {
      "id": "6ecedc687af6",
      "name": "mcp_http_server",
      "type": "file",
      "path": "src/mcp_core/mcp_http_server.py",
      "description": "",
      "size": 15783,
      "complexity": 0,
      "x": -626.1543304873916,
      "y": 113.41509166811623,
      "metadata": {
        "x": -626.1543304873916,
        "y": 113.41509166811623
      }
    },
    {
      "id": "2524dbdd8022",
      "name": "java_analyzer",
      "type": "file",
      "path": "src/mcp_core/java_analyzer.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 19822,
      "complexity": 22,
      "x": -631.131057718994,
      "y": 81.27887325530898,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "typing",
          "pathlib",
          "dataclasses",
          "code_analyzer",
          "javalang",
          "hashlib"
        ],
        "classes": [
          {
            "name": "JavaCodeAnalyzer",
            "methods": [
              "__init__",
              "analyze",
              "_generate_id",
              "_get_qualified_name",
              "_process_import",
              "_process_type_declaration",
              "_process_field",
              "_process_method",
              "_analyze_method_body",
              "build_dependency_graph",
              "detect_circular_dependencies",
              "analyze_impact"
            ],
            "docstring": "Java代码分析器"
          }
        ],
        "functions": [
          {
            "name": "test_java_analyzer",
            "args": [],
            "docstring": "测试Java分析器"
          }
        ],
        "lines": 592,
        "x": -631.131057718994,
        "y": 81.27887325530898
      }
    },
    {
      "id": "7f16916359f5",
      "name": "project_context_service",
      "type": "file",
      "path": "src/mcp_core/project_context_service.py",
      "description": "Python模块，包含5个类，1个函数",
      "size": 26961,
      "complexity": 66,
      "x": -634.4591893672518,
      "y": 48.92996069560043,
      "metadata": {
        "language": "python",
        "imports": [
          "typing",
          "datetime",
          "sqlalchemy",
          "sqlalchemy.orm",
          "mcp_core.models.base",
          "sqlalchemy",
          "sqlalchemy.orm",
          "uuid",
          "uuid",
          "uuid",
          "uuid"
        ],
        "classes": [
          {
            "name": "ProjectSession",
            "methods": [],
            "docstring": "开发会话"
          },
          {
            "name": "DesignDecision",
            "methods": [],
            "docstring": "设计决策记录"
          },
          {
            "name": "ProjectNote",
            "methods": [],
            "docstring": "项目笔记"
          },
          {
            "name": "DevelopmentTodo",
            "methods": [],
            "docstring": "开发TODO"
          },
          {
            "name": "ProjectContextManager",
            "methods": [
              "__init__",
              "start_session",
              "end_session",
              "get_last_session",
              "get_session_history",
              "update_session_summary",
              "record_decision",
              "get_decisions",
              "supersede_decision",
              "add_note",
              "get_notes",
              "resolve_note",
              "create_todo",
              "update_todo_status",
              "get_todos",
              "get_next_todo",
              "generate_resume_context",
              "get_project_statistics"
            ],
            "docstring": "项目上下文管理器"
          }
        ],
        "functions": [
          {
            "name": "test_context_manager",
            "args": [],
            "docstring": "测试上下文管理器"
          }
        ],
        "lines": 739,
        "x": -634.4591893672518,
        "y": 48.92996069560043
      }
    },
    {
      "id": "0cbed8c34bf5",
      "name": "code_knowledge_service",
      "type": "file",
      "path": "src/mcp_core/code_knowledge_service.py",
      "description": "Python模块，包含5个类，1个函数",
      "size": 18076,
      "complexity": 67,
      "x": -636.1302476224191,
      "y": 16.452685659034625,
      "metadata": {
        "language": "python",
        "imports": [
          "typing",
          "datetime",
          "sqlalchemy",
          "sqlalchemy.orm",
          "mcp_core.models.base",
          "code_analyzer",
          "models.tables",
          "sqlalchemy",
          "sqlalchemy.orm",
          "sqlalchemy",
          "src.mcp_core.models.tables",
          "hashlib"
        ],
        "classes": [
          {
            "name": "CodeProject",
            "methods": [],
            "docstring": "代码项目"
          },
          {
            "name": "CodeEntityModel",
            "methods": [],
            "docstring": "代码实体"
          },
          {
            "name": "CodeRelationModel",
            "methods": [],
            "docstring": "代码关系"
          },
          {
            "name": "CodeKnowledge",
            "methods": [],
            "docstring": "代码知识条目（高层次理解）"
          },
          {
            "name": "CodeKnowledgeGraphService",
            "methods": [
              "__init__",
              "create_project",
              "_sync_to_projects_table",
              "store_analysis_result",
              "query_entity",
              "query_entities_by_type",
              "query_entities_by_file",
              "query_relations",
              "trace_calls",
              "find_dependencies",
              "query_architecture",
              "search_by_name"
            ],
            "docstring": "代码知识图谱存储服务"
          }
        ],
        "functions": [
          {
            "name": "test_storage",
            "args": [],
            "docstring": "测试存储功能"
          }
        ],
        "lines": 505,
        "x": -636.1302476224191,
        "y": 16.452685659034625
      }
    },
    {
      "id": "34fd22d44c55",
      "name": "__init__",
      "type": "file",
      "path": "src/mcp_core/__init__.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 244,
      "complexity": 1,
      "x": -636.1399379359434,
      "y": -16.067817456426116,
      "metadata": {
        "language": "python",
        "imports": [
          "common.config"
        ],
        "classes": [],
        "functions": [],
        "lines": 12,
        "x": -636.1399379359434,
        "y": -16.067817456426116
      }
    },
    {
      "id": "4dde0e533b39",
      "name": "code_mcp_tools",
      "type": "file",
      "path": "src/mcp_core/code_mcp_tools.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 18691,
      "complexity": 20,
      "x": -634.4885134851448,
      "y": -48.54642230484962,
      "metadata": {
        "language": "python",
        "imports": [
          "typing",
          "pathlib",
          "json",
          "code_analyzer",
          "code_knowledge_service"
        ],
        "classes": [
          {
            "name": "MCPCodeAnalysisTools",
            "methods": [
              "__init__",
              "get_tools_definition",
              "analyze_codebase",
              "query_architecture",
              "find_entity",
              "trace_function_calls",
              "find_dependencies",
              "list_modules",
              "explain_module",
              "search_code_pattern"
            ],
            "docstring": "MCP代码分析工具集"
          }
        ],
        "functions": [
          {
            "name": "register_code_analysis_tools",
            "args": [
              "mcp_server",
              "db_session"
            ],
            "docstring": "将代码分析工具注册到MCP服务器\n\n用法:\n    from mcp_http_server import app\n    from code_mcp_tools import register_code_analysis_tools\n\n    register_code_analysis_tools(app, db_session)"
          }
        ],
        "lines": 533,
        "x": -634.4885134851448,
        "y": -48.54642230484962
      }
    },
    {
      "id": "86164bad29bd",
      "name": "swift_analyzer",
      "type": "file",
      "path": "src/mcp_core/swift_analyzer.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 16800,
      "complexity": 22,
      "x": -631.1800971059054,
      "y": -80.89791526439984,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "re",
          "typing",
          "pathlib",
          "dataclasses",
          "code_analyzer",
          "hashlib"
        ],
        "classes": [
          {
            "name": "SwiftCodeAnalyzer",
            "methods": [
              "__init__",
              "analyze",
              "_generate_id",
              "_get_qualified_name",
              "_extract_imports",
              "_extract_types",
              "_extract_properties",
              "_extract_methods",
              "_extract_top_level_functions",
              "_extract_extensions",
              "_parse_parameters",
              "_extract_modifiers",
              "_extract_docstring",
              "_find_matching_brace"
            ],
            "docstring": "Swift代码分析器"
          }
        ],
        "functions": [
          {
            "name": "test_swift_analyzer",
            "args": [],
            "docstring": "测试Swift分析器"
          }
        ],
        "lines": 503,
        "x": -631.1800971059054,
        "y": -80.89791526439984
      }
    },
    {
      "id": "d142276bd663",
      "name": "ai_understanding_service",
      "type": "file",
      "path": "src/mcp_core/ai_understanding_service.py",
      "description": "Python模块，包含2个类，0个函数",
      "size": 22908,
      "complexity": 31,
      "x": -626.2246829934837,
      "y": -113.04270249724561,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "typing",
          "code_knowledge_service",
          "project_context_service",
          "anthropic",
          "json",
          "re",
          "json",
          "re",
          "json",
          "re"
        ],
        "classes": [
          {
            "name": "AICodeUnderstandingService",
            "methods": [
              "__init__",
              "_call_claude",
              "understand_function",
              "understand_module",
              "explain_architecture",
              "generate_session_summary",
              "generate_resumption_briefing",
              "generate_todos_from_goal",
              "suggest_next_task",
              "decompose_task",
              "analyze_code_quality"
            ],
            "docstring": "AI辅助代码理解服务"
          },
          {
            "name": "AIAssistantTools",
            "methods": [
              "__init__",
              "ai_understand_function",
              "ai_understand_module",
              "ai_explain_architecture",
              "ai_generate_resumption_briefing",
              "ai_generate_todos_from_goal",
              "ai_decompose_task",
              "ai_analyze_code_quality"
            ],
            "docstring": "AI辅助工具"
          }
        ],
        "functions": [],
        "lines": 702,
        "x": -626.2246829934837,
        "y": -113.04270249724561
      }
    },
    {
      "id": "1552356dfeb3",
      "name": "code_analyzer",
      "type": "file",
      "path": "src/mcp_core/code_analyzer.py",
      "description": "Python模块，包含4个类，1个函数",
      "size": 14990,
      "complexity": 54,
      "x": -619.6348569690919,
      "y": -144.88549579390377,
      "metadata": {
        "language": "python",
        "imports": [
          "ast",
          "os",
          "json",
          "pathlib",
          "typing",
          "dataclasses",
          "collections",
          "hashlib",
          "sys"
        ],
        "classes": [
          {
            "name": "CodeEntity",
            "methods": [
              "__post_init__"
            ],
            "docstring": "代码实体"
          },
          {
            "name": "CodeRelation",
            "methods": [
              "__post_init__"
            ],
            "docstring": "代码关系"
          },
          {
            "name": "PythonCodeAnalyzer",
            "methods": [
              "__init__",
              "analyze",
              "_generate_id",
              "_get_qualified_name",
              "_get_docstring",
              "visit_ClassDef",
              "visit_FunctionDef",
              "visit_AsyncFunctionDef",
              "visit_Import",
              "visit_ImportFrom",
              "_analyze_function_body",
              "_get_name",
              "_generate_signature"
            ],
            "docstring": "Python代码AST分析器"
          },
          {
            "name": "ProjectAnalyzer",
            "methods": [
              "__init__",
              "analyze_project",
              "_analyze_file",
              "_resolve_references",
              "export_json",
              "generate_graph_summary"
            ],
            "docstring": "项目级别分析器"
          }
        ],
        "functions": [
          {
            "name": "main",
            "args": [],
            "docstring": "测试主函数"
          }
        ],
        "lines": 442,
        "x": -619.6348569690919,
        "y": -144.88549579390377
      }
    },
    {
      "id": "e411b939b661",
      "name": "vue_analyzer",
      "type": "file",
      "path": "src/mcp_core/vue_analyzer.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 13764,
      "complexity": 22,
      "x": -611.427453417576,
      "y": -176.3489754758488,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "re",
          "json",
          "typing",
          "pathlib",
          "code_analyzer",
          "hashlib"
        ],
        "classes": [
          {
            "name": "VueCodeAnalyzer",
            "methods": [
              "__init__",
              "analyze",
              "_generate_id",
              "_extract_section",
              "_create_component_entity",
              "_analyze_script",
              "_analyze_options_api",
              "_extract_data",
              "_extract_computed",
              "_extract_methods",
              "_extract_props",
              "_extract_components",
              "_analyze_composition_api",
              "_analyze_template"
            ],
            "docstring": "Vue.js代码分析器"
          }
        ],
        "functions": [
          {
            "name": "test_vue_analyzer",
            "args": [],
            "docstring": "测试Vue分析器"
          }
        ],
        "lines": 421,
        "x": -611.427453417576,
        "y": -176.3489754758488
      }
    },
    {
      "id": "4e553ec3bd3e",
      "name": "quality_mcp_tools",
      "type": "file",
      "path": "src/mcp_core/quality_mcp_tools.py",
      "description": "Python模块，包含1个类，0个函数",
      "size": 14717,
      "complexity": 12,
      "x": -601.6240988308223,
      "y": -207.35093950865752,
      "metadata": {
        "language": "python",
        "imports": [
          "typing",
          "quality_guardian_service"
        ],
        "classes": [
          {
            "name": "QualityGuardianTools",
            "methods": [
              "__init__",
              "detect_code_smells",
              "assess_technical_debt",
              "identify_debt_hotspots",
              "get_quality_trends",
              "resolve_quality_issue",
              "ignore_quality_issue",
              "generate_quality_report",
              "list_quality_issues"
            ],
            "docstring": "质量守护者工具"
          }
        ],
        "functions": [],
        "lines": 415,
        "x": -601.6240988308223,
        "y": -207.35093950865752
      }
    },
    {
      "id": "f369b7fbc39c",
      "name": "context_mcp_tools",
      "type": "file",
      "path": "src/mcp_core/context_mcp_tools.py",
      "description": "Python模块，包含1个类，0个函数",
      "size": 23165,
      "complexity": 12,
      "x": -590.2505062177535,
      "y": -237.8105445444994,
      "metadata": {
        "language": "python",
        "imports": [
          "typing",
          "project_context_service"
        ],
        "classes": [
          {
            "name": "ProjectContextTools",
            "methods": [
              "__init__",
              "start_dev_session",
              "end_dev_session",
              "record_design_decision",
              "add_project_note",
              "create_todo",
              "update_todo_status",
              "get_project_context",
              "list_todos",
              "get_next_todo",
              "list_design_decisions",
              "list_project_notes",
              "get_project_statistics"
            ],
            "docstring": "项目上下文管理工具"
          }
        ],
        "functions": [],
        "lines": 640,
        "x": -590.2505062177535,
        "y": -237.8105445444994
      }
    },
    {
      "id": "735015a3e7fa",
      "name": "main",
      "type": "file",
      "path": "src/mcp_core/main.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 5527,
      "complexity": 14,
      "x": -577.3364291938472,
      "y": -267.648372517836,
      "metadata": {
        "language": "python",
        "imports": [
          "contextlib",
          "typing",
          "fastapi",
          "fastapi.exceptions",
          "fastapi.middleware.cors",
          "fastapi.responses",
          "common.config",
          "common.logger",
          "models.database",
          "api.dependencies.database",
          "api.v1",
          "services",
          "services",
          "uvicorn"
        ],
        "classes": [],
        "functions": [],
        "lines": 199,
        "x": -577.3364291938472,
        "y": -267.648372517836
      }
    },
    {
      "id": "207b82477886",
      "name": "quality_guardian_service",
      "type": "file",
      "path": "src/mcp_core/quality_guardian_service.py",
      "description": "Python模块，包含5个类，1个函数",
      "size": 23557,
      "complexity": 70,
      "x": -562.9157508811734,
      "y": -296.78653907220496,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "typing",
          "datetime",
          "collections",
          "sqlalchemy",
          "sqlalchemy.orm",
          "mcp_core.models.base",
          "code_knowledge_service",
          "sqlalchemy",
          "sqlalchemy.orm",
          "uuid",
          "uuid",
          "uuid",
          "uuid",
          "uuid"
        ],
        "classes": [
          {
            "name": "QualityIssue",
            "methods": [],
            "docstring": "质量问题记录"
          },
          {
            "name": "DebtSnapshot",
            "methods": [],
            "docstring": "技术债务快照"
          },
          {
            "name": "QualityWarning",
            "methods": [],
            "docstring": "质量预警"
          },
          {
            "name": "RefactoringSuggestion",
            "methods": [],
            "docstring": "重构建议"
          },
          {
            "name": "QualityGuardianService",
            "methods": [
              "__init__",
              "detect_code_smells",
              "_detect_circular_dependencies",
              "_detect_long_functions",
              "_detect_god_classes",
              "_detect_tight_coupling",
              "assess_technical_debt",
              "identify_debt_hotspots",
              "get_quality_trends",
              "resolve_issue",
              "ignore_issue"
            ],
            "docstring": "质量守护服务"
          }
        ],
        "functions": [
          {
            "name": "test_quality_guardian",
            "args": [],
            "docstring": "测试质量守护"
          }
        ],
        "lines": 651,
        "x": -562.9157508811734,
        "y": -296.78653907220496
      }
    },
    {
      "id": "8da930e2235d",
      "name": "multi_lang_analyzer",
      "type": "file",
      "path": "src/mcp_core/multi_lang_analyzer.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 10737,
      "complexity": 26,
      "x": -547.0260277737534,
      "y": -325.14936628711934,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "pathlib",
          "typing",
          "collections",
          "code_analyzer",
          "sys",
          "code_analyzer",
          "vue_analyzer",
          "swift_analyzer",
          "json",
          "java_analyzer"
        ],
        "classes": [
          {
            "name": "MultiLanguageAnalyzer",
            "methods": [
              "__init__",
              "analyze_project",
              "_scan_files",
              "_analyze_language",
              "_analyze_python_files",
              "_analyze_java_files",
              "_analyze_vue_files",
              "_analyze_swift_files",
              "_entity_to_dict",
              "_relation_to_dict",
              "export_json"
            ],
            "docstring": "多语言项目分析器"
          }
        ],
        "functions": [
          {
            "name": "main",
            "args": [],
            "docstring": "命令行入口"
          }
        ],
        "lines": 308,
        "x": -547.0260277737534,
        "y": -325.14936628711934
      }
    },
    {
      "id": "a9bc89108766",
      "name": "mcp_server",
      "type": "file",
      "path": "src/mcp_core/mcp_server.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 17237,
      "complexity": 26,
      "x": -529.7088260828449,
      "y": -352.66295790589805,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "sys",
          "logging",
          "typing",
          "datetime",
          "sqlalchemy",
          "sqlalchemy.orm",
          "common.config",
          "services.memory_service",
          "services.token_service",
          "services.hallucination_service"
        ],
        "classes": [
          {
            "name": "MCPServer",
            "methods": [
              "__init__",
              "handle_request",
              "_handle_initialize",
              "_handle_resources_list",
              "_handle_resources_read",
              "_handle_tools_list",
              "_handle_tools_call",
              "_tool_store_memory",
              "_tool_retrieve_memory",
              "_tool_compress_content",
              "_tool_detect_hallucination",
              "_handle_prompts_list",
              "_handle_prompts_get",
              "_error_response",
              "run"
            ],
            "docstring": "MCP协议服务端"
          }
        ],
        "functions": [
          {
            "name": "main",
            "args": [],
            "docstring": "主入口"
          }
        ],
        "lines": 515,
        "x": -529.7088260828449,
        "y": -352.66295790589805
      }
    },
    {
      "id": "669234fb2772",
      "name": "database",
      "type": "file",
      "path": "src/mcp_core/models/database.py",
      "description": "Python模块，包含0个类，3个函数",
      "size": 1344,
      "complexity": 20,
      "x": -511.00945309248766,
      "y": -379.25556386477723,
      "metadata": {
        "language": "python",
        "imports": [
          "typing",
          "sqlalchemy",
          "sqlalchemy.ext.declarative",
          "sqlalchemy.orm",
          "common.config"
        ],
        "classes": [],
        "functions": [
          {
            "name": "get_db",
            "args": [],
            "docstring": "获取数据库会话(依赖注入用)\n\nYields:\n    数据库会话\n\nExample:\n    @app.get(\"/items\")\n    def get_items(db: Session = Depends(get_db)):\n        return db.query(Item).all()"
          },
          {
            "name": "init_db",
            "args": [],
            "docstring": "初始化数据库(创建所有表)"
          },
          {
            "name": "drop_db",
            "args": [],
            "docstring": "删除所有表(仅用于测试!)"
          }
        ],
        "lines": 59,
        "x": -511.00945309248766,
        "y": -379.25556386477723
      }
    },
    {
      "id": "8c9260ecfe65",
      "name": "__init__",
      "type": "file",
      "path": "src/mcp_core/models/__init__.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 1401,
      "complexity": 3,
      "x": -490.9766554180068,
      "y": -404.8579483162692,
      "metadata": {
        "language": "python",
        "imports": [
          "base",
          "database",
          "tables"
        ],
        "classes": [],
        "functions": [],
        "lines": 80,
        "x": -490.9766554180068,
        "y": -404.8579483162692
      }
    },
    {
      "id": "f5a160fca813",
      "name": "tables",
      "type": "file",
      "path": "src/mcp_core/models/tables.py",
      "description": "Python模块，包含6个类，0个函数",
      "size": 6548,
      "complexity": 66,
      "x": -469.66281293354746,
      "y": -429.4034447684186,
      "metadata": {
        "language": "python",
        "imports": [
          "datetime",
          "typing",
          "sqlalchemy",
          "sqlalchemy.orm",
          "sqlalchemy.sql",
          "database"
        ],
        "classes": [
          {
            "name": "Project",
            "methods": [
              "__repr__"
            ],
            "docstring": "项目表"
          },
          {
            "name": "LongMemory",
            "methods": [
              "__repr__"
            ],
            "docstring": "长期记忆表(核心事实)"
          },
          {
            "name": "UserPermission",
            "methods": [
              "__repr__"
            ],
            "docstring": "用户权限表(细粒度权限控制)"
          },
          {
            "name": "AuditLog",
            "methods": [
              "__repr__"
            ],
            "docstring": "审计日志表"
          },
          {
            "name": "User",
            "methods": [
              "__repr__"
            ],
            "docstring": "用户表(基础认证)"
          },
          {
            "name": "SystemConfig",
            "methods": [
              "__repr__"
            ],
            "docstring": "系统配置表(动态配置)"
          }
        ],
        "functions": [],
        "lines": 171,
        "x": -469.66281293354746,
        "y": -429.4034447684186
      }
    },
    {
      "id": "025fc36b8574",
      "name": "base",
      "type": "file",
      "path": "src/mcp_core/models/base.py",
      "description": "Python模块，包含4个类，6个函数",
      "size": 6285,
      "complexity": 75,
      "x": -447.12359745622183,
      "y": -452.82802820844904,
      "metadata": {
        "language": "python",
        "imports": [
          "datetime",
          "typing",
          "sqlalchemy",
          "sqlalchemy.ext.declarative",
          "re"
        ],
        "classes": [
          {
            "name": "TimestampMixin",
            "methods": [],
            "docstring": "时间戳Mixin\n\n自动添加created_at和updated_at字段"
          },
          {
            "name": "SoftDeleteMixin",
            "methods": [
              "is_deleted",
              "soft_delete",
              "restore"
            ],
            "docstring": "软删除Mixin\n\n添加deleted_at字段,支持软删除"
          },
          {
            "name": "TableNameMixin",
            "methods": [
              "__tablename__"
            ],
            "docstring": "表名Mixin\n\n自动生成表名(类名转蛇形命名)"
          },
          {
            "name": "BaseModel",
            "methods": [
              "to_dict",
              "update_from_dict",
              "__repr__"
            ],
            "docstring": "基础模型类\n\n所有业务模型都应该继承这个类,它提供:\n- 统一的Base\n- 自动的时间戳\n- 通用的辅助方法\n\n使用示例:\n```python\nfrom mcp_core.models.base import BaseModel\n\nclass MyModel(BaseModel):\n    __tablename__ = \"my_models\"\n    id = Column(Integer, primary_key=True)\n    name = Column(String(100))\n```"
          }
        ],
        "functions": [
          {
            "name": "get_metadata",
            "args": [],
            "docstring": "获取全局元数据实例\n\nReturns:\n    MetaData实例"
          },
          {
            "name": "get_all_tables",
            "args": [],
            "docstring": "获取所有表名\n\nReturns:\n    表名列表"
          },
          {
            "name": "get_table",
            "args": [
              "table_name"
            ],
            "docstring": "获取指定表\n\nArgs:\n    table_name: 表名\n\nReturns:\n    Table对象,如果不存在返回None"
          },
          {
            "name": "create_all_tables",
            "args": [
              "engine"
            ],
            "docstring": "创建所有表\n\nArgs:\n    engine: SQLAlchemy Engine"
          },
          {
            "name": "drop_all_tables",
            "args": [
              "engine"
            ],
            "docstring": "删除所有表(危险操作!)\n\nArgs:\n    engine: SQLAlchemy Engine"
          },
          {
            "name": "print_table_info",
            "args": [],
            "docstring": "打印所有表信息"
          }
        ],
        "lines": 279,
        "x": -447.12359745622183,
        "y": -452.82802820844904
      }
    },
    {
      "id": "e13dc74a870f",
      "name": "__init__",
      "type": "file",
      "path": "src/mcp_core/schemas/__init__.py",
      "description": "Python模块，包含29个类，0个函数",
      "size": 8069,
      "complexity": 293,
      "x": -423.41767431336024,
      "y": -475.0708086083697,
      "metadata": {
        "language": "python",
        "imports": [
          "datetime",
          "typing",
          "pydantic"
        ],
        "classes": [
          {
            "name": "BaseResponse",
            "methods": [],
            "docstring": "通用响应格式"
          },
          {
            "name": "MemoryStoreRequest",
            "methods": [
              "validate_content"
            ],
            "docstring": "存储记忆请求"
          },
          {
            "name": "MemoryStoreResponse",
            "methods": [],
            "docstring": "存储记忆响应"
          },
          {
            "name": "MemoryRetrieveRequest",
            "methods": [
              "validate_levels"
            ],
            "docstring": "检索记忆请求"
          },
          {
            "name": "MemoryItem",
            "methods": [],
            "docstring": "单条记忆"
          },
          {
            "name": "MemoryRetrieveResponse",
            "methods": [],
            "docstring": "检索记忆响应"
          },
          {
            "name": "MemoryUpdateRequest",
            "methods": [],
            "docstring": "更新记忆请求"
          },
          {
            "name": "MemoryDeleteRequest",
            "methods": [],
            "docstring": "删除记忆请求"
          },
          {
            "name": "TokenCompressRequest",
            "methods": [],
            "docstring": "Token压缩请求"
          },
          {
            "name": "TokenCompressResponse",
            "methods": [],
            "docstring": "Token压缩响应"
          },
          {
            "name": "HallucinationValidateRequest",
            "methods": [],
            "docstring": "幻觉检测请求"
          },
          {
            "name": "HallucinationValidateResponse",
            "methods": [],
            "docstring": "幻觉检测响应"
          },
          {
            "name": "ProjectCreate",
            "methods": [],
            "docstring": "创建项目请求"
          },
          {
            "name": "ProjectResponse",
            "methods": [],
            "docstring": "项目响应"
          },
          {
            "name": "ProjectUpdate",
            "methods": [],
            "docstring": "更新项目请求"
          },
          {
            "name": "PermissionGrant",
            "methods": [],
            "docstring": "授予权限请求"
          },
          {
            "name": "PermissionRevoke",
            "methods": [],
            "docstring": "撤销权限请求"
          },
          {
            "name": "PermissionCheck",
            "methods": [],
            "docstring": "权限检查请求"
          },
          {
            "name": "PermissionCheckResponse",
            "methods": [],
            "docstring": "权限检查响应"
          },
          {
            "name": "UserCreate",
            "methods": [],
            "docstring": "创建用户请求"
          },
          {
            "name": "UserLogin",
            "methods": [],
            "docstring": "用户登录请求"
          },
          {
            "name": "UserResponse",
            "methods": [],
            "docstring": "用户响应"
          },
          {
            "name": "TokenResponse",
            "methods": [],
            "docstring": "Token响应"
          },
          {
            "name": "AuditLogQuery",
            "methods": [],
            "docstring": "审计日志查询请求"
          },
          {
            "name": "AuditLogItem",
            "methods": [],
            "docstring": "审计日志项"
          },
          {
            "name": "AuditLogResponse",
            "methods": [],
            "docstring": "审计日志响应"
          },
          {
            "name": "ConfigUpdate",
            "methods": [],
            "docstring": "更新配置请求"
          },
          {
            "name": "ConfigResponse",
            "methods": [],
            "docstring": "配置响应"
          },
          {
            "name": "HealthCheckResponse",
            "methods": [],
            "docstring": "健康检查响应"
          }
        ],
        "functions": [],
        "lines": 313,
        "x": -423.41767431336024,
        "y": -475.0708086083697
      }
    },
    {
      "id": "8f8332db867a",
      "name": "config",
      "type": "file",
      "path": "src/mcp_core/common/config.py",
      "description": "Python模块，包含17个类，2个函数",
      "size": 10249,
      "complexity": 188,
      "x": -398.6068533496763,
      "y": -496.0738446007188,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "functools",
          "pathlib",
          "typing",
          "yaml",
          "pydantic",
          "pydantic_settings",
          "warnings"
        ],
        "classes": [
          {
            "name": "DatabaseSettings",
            "methods": [],
            "docstring": "数据库配置"
          },
          {
            "name": "RedisSettings",
            "methods": [],
            "docstring": "Redis配置"
          },
          {
            "name": "MilvusSettings",
            "methods": [],
            "docstring": "Milvus向量数据库配置"
          },
          {
            "name": "VectorDBSettings",
            "methods": [],
            "docstring": "向量数据库配置"
          },
          {
            "name": "MemorySettings",
            "methods": [],
            "docstring": "记忆管理配置"
          },
          {
            "name": "HuggingFaceSettings",
            "methods": [],
            "docstring": "Hugging Face配置"
          },
          {
            "name": "ModelConfigSettings",
            "methods": [],
            "docstring": "单个模型配置"
          },
          {
            "name": "ModelsSettings",
            "methods": [],
            "docstring": "Hugging Face模型配置"
          },
          {
            "name": "TokenOptimizationSettings",
            "methods": [],
            "docstring": "Token优化配置"
          },
          {
            "name": "AntiHallucinationSettings",
            "methods": [],
            "docstring": "幻觉抑制配置"
          },
          {
            "name": "JWTSettings",
            "methods": [
              "validate_secret_key"
            ],
            "docstring": "JWT配置"
          },
          {
            "name": "SecuritySettings",
            "methods": [],
            "docstring": "安全配置"
          },
          {
            "name": "LoggingSettings",
            "methods": [],
            "docstring": "日志配置"
          },
          {
            "name": "MonitoringSettings",
            "methods": [],
            "docstring": "监控配置"
          },
          {
            "name": "APISettings",
            "methods": [],
            "docstring": "API配置"
          },
          {
            "name": "AppSettings",
            "methods": [],
            "docstring": "应用配置"
          },
          {
            "name": "Settings",
            "methods": [
              "from_yaml",
              "_flatten_config"
            ],
            "docstring": "主配置类"
          }
        ],
        "functions": [
          {
            "name": "get_settings",
            "args": [],
            "docstring": "获取配置单例(带缓存)"
          },
          {
            "name": "load_config",
            "args": [
              "config_path"
            ],
            "docstring": "加载配置(不带缓存,用于测试)"
          }
        ],
        "lines": 318,
        "x": -398.6068533496763,
        "y": -496.0738446007188
      }
    },
    {
      "id": "cbdccabdc48b",
      "name": "__init__",
      "type": "file",
      "path": "src/mcp_core/common/__init__.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 500,
      "complexity": 3,
      "x": -372.756277471041,
      "y": -515.7821085431182,
      "metadata": {
        "language": "python",
        "imports": [
          "config",
          "logger",
          "utils"
        ],
        "classes": [],
        "functions": [],
        "lines": 20,
        "x": -372.756277471041,
        "y": -515.7821085431182
      }
    },
    {
      "id": "40a73bf75c05",
      "name": "logger",
      "type": "file",
      "path": "src/mcp_core/common/logger.py",
      "description": "Python模块，包含4个类，3个函数",
      "size": 7198,
      "complexity": 64,
      "x": -345.9331769109088,
      "y": -534.1444310163779,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "logging",
          "logging.handlers",
          "sys",
          "datetime",
          "pathlib",
          "typing",
          "config",
          "re"
        ],
        "classes": [
          {
            "name": "SensitiveDataFilter",
            "methods": [
              "__init__",
              "filter",
              "_mask_string",
              "_mask_dict"
            ],
            "docstring": "敏感数据过滤器"
          },
          {
            "name": "JSONFormatter",
            "methods": [
              "format"
            ],
            "docstring": "JSON格式化器"
          },
          {
            "name": "ColoredTextFormatter",
            "methods": [
              "format"
            ],
            "docstring": "彩色文本格式化器(用于控制台)"
          },
          {
            "name": "LoggerAdapter",
            "methods": [
              "process"
            ],
            "docstring": "日志适配器,支持附加上下文"
          }
        ],
        "functions": [
          {
            "name": "setup_logging",
            "args": [
              "log_level",
              "log_format",
              "log_file"
            ],
            "docstring": "配置日志系统\n\nArgs:\n    log_level: 日志级别\n    log_format: 日志格式(json/text)\n    log_file: 日志文件路径"
          },
          {
            "name": "get_logger",
            "args": [
              "name"
            ],
            "docstring": "获取日志器\n\nArgs:\n    name: 日志器名称\n\nReturns:\n    logging.Logger实例"
          },
          {
            "name": "get_context_logger",
            "args": [
              "name"
            ],
            "docstring": "获取带上下文的日志器\n\nArgs:\n    name: 日志器名称\n    **context: 上下文字段\n\nReturns:\n    LoggerAdapter实例\n\nExample:\n    logger = get_context_logger(\"mcp.api\", user_id=\"user_001\", request_id=\"req_123\")\n    logger.info(\"API called\")"
          }
        ],
        "lines": 245,
        "x": -345.9331769109088,
        "y": -534.1444310163779
      }
    },
    {
      "id": "856829afae1f",
      "name": "utils",
      "type": "file",
      "path": "src/mcp_core/common/utils.py",
      "description": "Python模块，包含1个类，12个函数",
      "size": 6303,
      "complexity": 75,
      "x": -318.20722718036774,
      "y": -551.1131260081648,
      "metadata": {
        "language": "python",
        "imports": [
          "hashlib",
          "re",
          "uuid",
          "datetime",
          "typing"
        ],
        "classes": [
          {
            "name": "Timer",
            "methods": [
              "__init__",
              "__enter__",
              "__exit__",
              "elapsed"
            ],
            "docstring": "简单的计时器上下文管理器\n\nExample:\n    with Timer() as timer:\n        # 执行操作\n        pass\n    print(f\"耗时: {timer.elapsed}秒\")"
          }
        ],
        "functions": [
          {
            "name": "generate_id",
            "args": [
              "prefix"
            ],
            "docstring": "生成唯一ID\n\nArgs:\n    prefix: ID前缀\n\nReturns:\n    格式化的唯一ID\n\nExample:\n    >>> generate_id(\"mem\")\n    'mem_20250118_a1b2c3d4'"
          },
          {
            "name": "hash_content",
            "args": [
              "content",
              "algorithm"
            ],
            "docstring": "计算内容哈希值\n\nArgs:\n    content: 内容字符串\n    algorithm: 哈希算法(md5/sha1/sha256)\n\nReturns:\n    十六进制哈希值"
          },
          {
            "name": "truncate_string",
            "args": [
              "text",
              "max_length",
              "suffix"
            ],
            "docstring": "截断字符串\n\nArgs:\n    text: 原始文本\n    max_length: 最大长度\n    suffix: 后缀\n\nReturns:\n    截断后的文本"
          },
          {
            "name": "extract_keywords",
            "args": [
              "text",
              "max_keywords"
            ],
            "docstring": "提取关键词(简化版,实际应使用NLP算法)\n\nArgs:\n    text: 文本内容\n    max_keywords: 最大关键词数\n\nReturns:\n    关键词列表"
          },
          {
            "name": "calculate_text_similarity",
            "args": [
              "text1",
              "text2"
            ],
            "docstring": "计算文本相似度(简化版,使用Jaccard相似度)\n\nArgs:\n    text1: 文本1\n    text2: 文本2\n\nReturns:\n    相似度分数(0-1)"
          },
          {
            "name": "utc_now",
            "args": [],
            "docstring": "获取当前UTC时间(带时区)"
          },
          {
            "name": "format_timestamp",
            "args": [
              "dt",
              "fmt"
            ],
            "docstring": "格式化时间戳\n\nArgs:\n    dt: datetime对象\n    fmt: 格式字符串\n\nReturns:\n    格式化后的时间字符串"
          },
          {
            "name": "parse_timestamp",
            "args": [
              "ts_str",
              "fmt"
            ],
            "docstring": "解析时间字符串\n\nArgs:\n    ts_str: 时间字符串\n    fmt: 格式字符串\n\nReturns:\n    datetime对象"
          },
          {
            "name": "safe_divide",
            "args": [
              "numerator",
              "denominator",
              "default"
            ],
            "docstring": "安全除法(避免除零错误)\n\nArgs:\n    numerator: 分子\n    denominator: 分母\n    default: 默认值(当分母为0时)\n\nReturns:\n    除法结果"
          },
          {
            "name": "merge_dicts",
            "args": [],
            "docstring": "合并多个字典\n\nArgs:\n    *dicts: 要合并的字典\n    deep: 是否深度合并\n\nReturns:\n    合并后的字典"
          },
          {
            "name": "validate_project_id",
            "args": [
              "project_id"
            ],
            "docstring": "验证项目ID格式\n\nArgs:\n    project_id: 项目ID\n\nReturns:\n    是否合法"
          },
          {
            "name": "sanitize_input",
            "args": [
              "text",
              "max_length"
            ],
            "docstring": "清理用户输入(防注入)\n\nArgs:\n    text: 原始文本\n    max_length: 最大长度\n\nReturns:\n    清理后的文本"
          }
        ],
        "lines": 298,
        "x": -318.20722718036774,
        "y": -551.1131260081648
      }
    },
    {
      "id": "c583bab636c3",
      "name": "__init__",
      "type": "file",
      "path": "src/mcp_core/api/__init__.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 95,
      "complexity": 0,
      "x": -289.6513214939466,
      "y": -566.6436156019012,
      "metadata": {
        "language": "python",
        "imports": [],
        "classes": [],
        "functions": [],
        "lines": 10,
        "x": -289.6513214939466,
        "y": -566.6436156019012
      }
    },
    {
      "id": "fa22735b35e2",
      "name": "auth",
      "type": "file",
      "path": "src/mcp_core/api/v1/auth.py",
      "description": "Python模块，包含5个类，0个函数",
      "size": 5537,
      "complexity": 59,
      "x": -260.3394580948763,
      "y": -580.6957144126162,
      "metadata": {
        "language": "python",
        "imports": [
          "datetime",
          "typing",
          "fastapi",
          "pydantic",
          "sqlalchemy.orm",
          "common.logger",
          "common.utils",
          "models.tables",
          "dependencies"
        ],
        "classes": [
          {
            "name": "LoginRequest",
            "methods": [],
            "docstring": "登录请求"
          },
          {
            "name": "LoginResponse",
            "methods": [],
            "docstring": "登录响应"
          },
          {
            "name": "RegisterRequest",
            "methods": [],
            "docstring": "注册请求"
          },
          {
            "name": "RegisterResponse",
            "methods": [],
            "docstring": "注册响应"
          },
          {
            "name": "UserInfoResponse",
            "methods": [],
            "docstring": "用户信息响应"
          }
        ],
        "functions": [],
        "lines": 223,
        "x": -260.3394580948763,
        "y": -580.6957144126162
      }
    },
    {
      "id": "6b106ecc3a62",
      "name": "token",
      "type": "file",
      "path": "src/mcp_core/api/v1/token.py",
      "description": "Python模块，包含6个类，0个函数",
      "size": 6413,
      "complexity": 67,
      "x": -230.3486242873707,
      "y": -593.2324977142234,
      "metadata": {
        "language": "python",
        "imports": [
          "typing",
          "fastapi",
          "pydantic",
          "common.logger",
          "models.tables",
          "services",
          "dependencies"
        ],
        "classes": [
          {
            "name": "CompressRequest",
            "methods": [],
            "docstring": "压缩请求"
          },
          {
            "name": "CompressResponse",
            "methods": [],
            "docstring": "压缩响应"
          },
          {
            "name": "BatchCompressRequest",
            "methods": [],
            "docstring": "批量压缩请求"
          },
          {
            "name": "BatchCompressResponse",
            "methods": [],
            "docstring": "批量压缩响应"
          },
          {
            "name": "TokenStatsResponse",
            "methods": [],
            "docstring": "Token统计响应"
          },
          {
            "name": "CalculateTokenRequest",
            "methods": [],
            "docstring": "计算Token请求"
          }
        ],
        "functions": [],
        "lines": 227,
        "x": -230.3486242873707,
        "y": -593.2324977142234
      }
    },
    {
      "id": "e41de44eb3a7",
      "name": "memory",
      "type": "file",
      "path": "src/mcp_core/api/v1/memory.py",
      "description": "Python模块，包含7个类，0个函数",
      "size": 7626,
      "complexity": 78,
      "x": -199.75683548551225,
      "y": -604.2214366470898,
      "metadata": {
        "language": "python",
        "imports": [
          "typing",
          "fastapi",
          "pydantic",
          "sqlalchemy.orm",
          "common.logger",
          "models.tables",
          "services",
          "dependencies"
        ],
        "classes": [
          {
            "name": "StoreMemoryRequest",
            "methods": [],
            "docstring": "存储记忆请求"
          },
          {
            "name": "StoreMemoryResponse",
            "methods": [],
            "docstring": "存储记忆响应"
          },
          {
            "name": "RetrieveMemoryRequest",
            "methods": [],
            "docstring": "检索记忆请求"
          },
          {
            "name": "MemoryItem",
            "methods": [],
            "docstring": "记忆项"
          },
          {
            "name": "RetrieveMemoryResponse",
            "methods": [],
            "docstring": "检索记忆响应"
          },
          {
            "name": "UpdateMemoryRequest",
            "methods": [],
            "docstring": "更新记忆请求"
          },
          {
            "name": "DeleteMemoryResponse",
            "methods": [],
            "docstring": "删除记忆响应"
          }
        ],
        "functions": [],
        "lines": 284,
        "x": -199.75683548551225,
        "y": -604.2214366470898
      }
    },
    {
      "id": "75bc86c8e708",
      "name": "__init__",
      "type": "file",
      "path": "src/mcp_core/api/v1/__init__.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 166,
      "complexity": 0,
      "x": -168.64356702139423,
      "y": -613.6339824670858,
      "metadata": {
        "language": "python",
        "imports": [],
        "classes": [],
        "functions": [],
        "lines": 13,
        "x": -168.64356702139423,
        "y": -613.6339824670858
      }
    },
    {
      "id": "a310ab2759c5",
      "name": "validate",
      "type": "file",
      "path": "src/mcp_core/api/v1/validate.py",
      "description": "Python模块，包含5个类，0个函数",
      "size": 5811,
      "complexity": 58,
      "x": -137.09061122547703,
      "y": -621.4453786957287,
      "metadata": {
        "language": "python",
        "imports": [
          "typing",
          "fastapi",
          "pydantic",
          "sqlalchemy.orm",
          "common.logger",
          "models.tables",
          "services",
          "dependencies"
        ],
        "classes": [
          {
            "name": "ValidateRequest",
            "methods": [],
            "docstring": "验证请求"
          },
          {
            "name": "ValidateResponse",
            "methods": [],
            "docstring": "验证响应"
          },
          {
            "name": "BatchValidateRequest",
            "methods": [],
            "docstring": "批量验证请求"
          },
          {
            "name": "BatchValidateItem",
            "methods": [],
            "docstring": "批量验证项"
          },
          {
            "name": "BatchValidateResponse",
            "methods": [],
            "docstring": "批量验证响应"
          }
        ],
        "functions": [],
        "lines": 202,
        "x": -137.09061122547703,
        "y": -621.4453786957287
      }
    },
    {
      "id": "3e5665a23385",
      "name": "project",
      "type": "file",
      "path": "src/mcp_core/api/v1/project.py",
      "description": "Python模块，包含5个类，0个函数",
      "size": 9807,
      "complexity": 59,
      "x": -105.17970067203954,
      "y": -627.6354174759356,
      "metadata": {
        "language": "python",
        "imports": [
          "datetime",
          "typing",
          "fastapi",
          "pydantic",
          "sqlalchemy.orm",
          "common.logger",
          "common.utils",
          "models.tables",
          "dependencies"
        ],
        "classes": [
          {
            "name": "CreateProjectRequest",
            "methods": [],
            "docstring": "创建项目请求"
          },
          {
            "name": "CreateProjectResponse",
            "methods": [],
            "docstring": "创建项目响应"
          },
          {
            "name": "UpdateProjectRequest",
            "methods": [],
            "docstring": "更新项目请求"
          },
          {
            "name": "ProjectResponse",
            "methods": [],
            "docstring": "项目响应"
          },
          {
            "name": "ListProjectsResponse",
            "methods": [],
            "docstring": "项目列表响应"
          }
        ],
        "functions": [],
        "lines": 348,
        "x": -105.17970067203954,
        "y": -627.6354174759356
      }
    },
    {
      "id": "c09332ce99c6",
      "name": "error_firewall",
      "type": "file",
      "path": "src/mcp_core/api/v1/tools/error_firewall.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 11848,
      "complexity": 3,
      "x": -72.99468483742965,
      "y": -632.1878739864508,
      "metadata": {
        "language": "python",
        "imports": [
          "typing",
          "src.mcp_core.services.error_firewall_service",
          "src.mcp_core.common.logger"
        ],
        "classes": [],
        "functions": [],
        "lines": 401,
        "x": -72.99468483742965,
        "y": -632.1878739864508
      }
    },
    {
      "id": "f5d39f43f660",
      "name": "auth",
      "type": "file",
      "path": "src/mcp_core/api/dependencies/auth.py",
      "description": "Python模块，包含0个类，6个函数",
      "size": 5478,
      "complexity": 41,
      "x": -40.6192235214661,
      "y": -635.0909590683827,
      "metadata": {
        "language": "python",
        "imports": [
          "datetime",
          "typing",
          "fastapi",
          "fastapi.security",
          "jose",
          "passlib.context",
          "sqlalchemy.orm",
          "common.config",
          "common.logger",
          "models.tables",
          "database"
        ],
        "classes": [],
        "functions": [
          {
            "name": "verify_password",
            "args": [
              "plain_password",
              "hashed_password"
            ],
            "docstring": "验证密码"
          },
          {
            "name": "get_password_hash",
            "args": [
              "password"
            ],
            "docstring": "生成密码哈希"
          },
          {
            "name": "create_access_token",
            "args": [
              "data",
              "expires_delta"
            ],
            "docstring": "创建JWT访问令牌"
          },
          {
            "name": "decode_access_token",
            "args": [
              "token"
            ],
            "docstring": "解码JWT令牌"
          },
          {
            "name": "check_permission",
            "args": [
              "permission_name"
            ],
            "docstring": "权限检查装饰器工厂\n\n用法:\n@router.get(\"/protected\")\nasync def protected_route(\n    current_user: User = Depends(check_permission(\"memory.read\"))\n):\n    ..."
          },
          {
            "name": "authenticate_user",
            "args": [
              "db",
              "username",
              "password"
            ],
            "docstring": "认证用户"
          }
        ],
        "lines": 200,
        "x": -40.6192235214661,
        "y": -635.0909590683827
      }
    },
    {
      "id": "2905209e9323",
      "name": "database",
      "type": "file",
      "path": "src/mcp_core/api/dependencies/database.py",
      "description": "Python模块，包含0个类，1个函数",
      "size": 780,
      "complexity": 9,
      "x": -8.137496389053798,
      "y": -636.3370544135407,
      "metadata": {
        "language": "python",
        "imports": [
          "typing",
          "sqlalchemy",
          "sqlalchemy.orm",
          "common.config"
        ],
        "classes": [],
        "functions": [
          {
            "name": "get_db",
            "args": [],
            "docstring": "获取数据库会话\n\n用法:\n@router.get(\"/\")\nasync def route(db: Session = Depends(get_db)):\n    ..."
          }
        ],
        "lines": 38,
        "x": -8.137496389053798,
        "y": -636.3370544135407
      }
    },
    {
      "id": "83bd11096476",
      "name": "__init__",
      "type": "file",
      "path": "src/mcp_core/api/dependencies/__init__.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 449,
      "complexity": 2,
      "x": 24.36515806094477,
      "y": -635.9229425914342,
      "metadata": {
        "language": "python",
        "imports": [
          "auth",
          "database"
        ],
        "classes": [],
        "functions": [],
        "lines": 25,
        "x": 24.36515806094477,
        "y": -635.9229425914342
      }
    },
    {
      "id": "cc5bdf9deed1",
      "name": "preset_patterns",
      "type": "file",
      "path": "src/mcp_core/data/preset_patterns.py",
      "description": "Python模块，包含0个类，4个函数",
      "size": 24244,
      "complexity": 25,
      "x": 56.80454919363552,
      "y": -633.8496522796621,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "hashlib",
          "datetime",
          "typing",
          "services.pattern_recognizer"
        ],
        "classes": [],
        "functions": [
          {
            "name": "generate_pattern_id",
            "args": [
              "pattern_name"
            ],
            "docstring": "生成模式ID"
          },
          {
            "name": "prepare_pattern_data",
            "args": [
              "patterns",
              "pattern_source"
            ],
            "docstring": "准备模式数据用于插入数据库"
          },
          {
            "name": "export_patterns_to_json",
            "args": [
              "filename"
            ],
            "docstring": "导出所有预置模式到JSON文件"
          },
          {
            "name": "load_patterns_to_database",
            "args": [],
            "docstring": "加载预置模式到数据库"
          }
        ],
        "lines": 697,
        "x": 56.80454919363552,
        "y": -633.8496522796621
      }
    },
    {
      "id": "5fd75fce11f2",
      "name": "websocket_service",
      "type": "file",
      "path": "src/mcp_core/services/websocket_service.py",
      "description": "Python模块，包含2个类，1个函数",
      "size": 11971,
      "complexity": 33,
      "x": 89.09542685476804,
      "y": -630.1226886459248,
      "metadata": {
        "language": "python",
        "imports": [
          "asyncio",
          "json",
          "typing",
          "datetime",
          "aiohttp",
          "aiohttp",
          "common.logger",
          "redis_client"
        ],
        "classes": [
          {
            "name": "Channels",
            "methods": [
              "all"
            ],
            "docstring": "WebSocket频道定义"
          },
          {
            "name": "WebSocketManager",
            "methods": [
              "__init__",
              "get_stats"
            ],
            "docstring": "WebSocket连接管理器"
          }
        ],
        "functions": [
          {
            "name": "get_websocket_manager",
            "args": [],
            "docstring": "获取WebSocket管理器单例"
          }
        ],
        "lines": 378,
        "x": 89.09542685476804,
        "y": -630.1226886459248
      }
    },
    {
      "id": "97fc96cfdab7",
      "name": "project_graph_generator",
      "type": "file",
      "path": "src/mcp_core/services/project_graph_generator.py",
      "description": "Python模块，包含6个类，1个函数",
      "size": 28301,
      "complexity": 83,
      "x": 121.15415683283013,
      "y": -624.7517290900137,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "ast",
          "json",
          "asyncio",
          "hashlib",
          "typing",
          "dataclasses",
          "datetime",
          "pathlib",
          "networkx",
          "pyvis.network",
          "re",
          "importlib.util",
          "common.logger",
          "common.config",
          "models",
          "services.redis_client",
          "services.ai_model_manager"
        ],
        "classes": [
          {
            "name": "NodeInfo",
            "methods": [],
            "docstring": "节点信息"
          },
          {
            "name": "EdgeInfo",
            "methods": [],
            "docstring": "边信息"
          },
          {
            "name": "GraphData",
            "methods": [],
            "docstring": "图谱数据"
          },
          {
            "name": "ProjectAnalyzer",
            "methods": [
              "__init__",
              "_get_project_files",
              "_generate_node_id",
              "_resolve_dependency",
              "_calculate_language_stats"
            ],
            "docstring": "项目分析器"
          },
          {
            "name": "GraphGenerator",
            "methods": [
              "__init__",
              "_apply_layout",
              "_to_json",
              "_to_html",
              "_to_networkx",
              "_get_node_color"
            ],
            "docstring": "图谱生成器"
          },
          {
            "name": "ProjectGraphAPI",
            "methods": [
              "__init__"
            ],
            "docstring": "项目图谱API"
          }
        ],
        "functions": [
          {
            "name": "get_graph_api",
            "args": [],
            "docstring": "获取图谱API单例"
          }
        ],
        "lines": 830,
        "x": 121.15415683283013,
        "y": -624.7517290900137
      }
    },
    {
      "id": "6b53ce7b7918",
      "name": "performance_optimization_engine",
      "type": "file",
      "path": "src/mcp_core/services/performance_optimization_engine.py",
      "description": "Python模块，包含12个类，1个函数",
      "size": 32448,
      "complexity": 154,
      "x": 152.89650232854447,
      "y": -617.7508103969641,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "sys",
          "time",
          "asyncio",
          "psutil",
          "cProfile",
          "pstats",
          "io",
          "gc",
          "tracemalloc",
          "typing",
          "dataclasses",
          "enum",
          "datetime",
          "collections",
          "json",
          "numpy",
          "functools",
          "aioredis",
          "aiomysql",
          "concurrent.futures",
          "common.logger",
          "common.config",
          "models",
          "services.redis_client",
          "services.ai_model_manager",
          "hashlib",
          "re",
          "re"
        ],
        "classes": [
          {
            "name": "OptimizationType",
            "methods": [],
            "docstring": "优化类型"
          },
          {
            "name": "PerformanceLevel",
            "methods": [],
            "docstring": "性能级别"
          },
          {
            "name": "PerformanceConfig",
            "methods": [],
            "docstring": "性能配置"
          },
          {
            "name": "PerformanceMetric",
            "methods": [],
            "docstring": "性能指标"
          },
          {
            "name": "OptimizationSuggestion",
            "methods": [],
            "docstring": "优化建议"
          },
          {
            "name": "PerformanceProfiler",
            "methods": [
              "__init__",
              "profile_function",
              "_save_profile",
              "_record_metric",
              "get_profile",
              "get_metrics",
              "get_statistics"
            ],
            "docstring": "性能分析器"
          },
          {
            "name": "QueryOptimizer",
            "methods": [
              "__init__",
              "suggest_indexes"
            ],
            "docstring": "查询优化器"
          },
          {
            "name": "CacheOptimizer",
            "methods": [
              "__init__",
              "cached",
              "_generate_cache_key",
              "_evict_lru",
              "get_cache_statistics"
            ],
            "docstring": "缓存优化器"
          },
          {
            "name": "MemoryOptimizer",
            "methods": [
              "__init__",
              "analyze_memory",
              "optimize_memory",
              "force_gc"
            ],
            "docstring": "内存优化器"
          },
          {
            "name": "AlgorithmOptimizer",
            "methods": [
              "__init__",
              "optimize_algorithm"
            ],
            "docstring": "算法优化器"
          },
          {
            "name": "ConcurrencyOptimizer",
            "methods": [
              "__init__",
              "optimize_concurrency"
            ],
            "docstring": "并发优化器"
          },
          {
            "name": "PerformanceOptimizationEngine",
            "methods": [
              "__init__",
              "_get_performance_level",
              "get_optimization_report"
            ],
            "docstring": "性能优化引擎"
          }
        ],
        "functions": [
          {
            "name": "get_performance_engine",
            "args": [],
            "docstring": "获取性能优化引擎单例"
          }
        ],
        "lines": 929,
        "x": 152.89650232854447,
        "y": -617.7508103969641
      }
    },
    {
      "id": "86b9ffc687e0",
      "name": "ai_model_manager",
      "type": "file",
      "path": "src/mcp_core/services/ai_model_manager.py",
      "description": "Python模块，包含10个类，1个函数",
      "size": 22932,
      "complexity": 123,
      "x": 184.23994814242081,
      "y": -609.1382586632741,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "json",
          "asyncio",
          "typing",
          "dataclasses",
          "enum",
          "abc",
          "aiohttp",
          "openai",
          "anthropic",
          "transformers",
          "torch",
          "numpy",
          "common.logger",
          "common.config",
          "time",
          "time",
          "time"
        ],
        "classes": [
          {
            "name": "ModelProvider",
            "methods": [],
            "docstring": "模型提供商"
          },
          {
            "name": "ModelCapability",
            "methods": [],
            "docstring": "模型能力"
          },
          {
            "name": "ModelConfig",
            "methods": [],
            "docstring": "模型配置"
          },
          {
            "name": "ModelRequest",
            "methods": [],
            "docstring": "模型请求"
          },
          {
            "name": "ModelResponse",
            "methods": [],
            "docstring": "模型响应"
          },
          {
            "name": "BaseModelInterface",
            "methods": [
              "__init__"
            ],
            "docstring": "基础模型接口"
          },
          {
            "name": "OpenAIInterface",
            "methods": [
              "__init__"
            ],
            "docstring": "OpenAI模型接口"
          },
          {
            "name": "AnthropicInterface",
            "methods": [
              "__init__"
            ],
            "docstring": "Anthropic模型接口"
          },
          {
            "name": "HuggingFaceInterface",
            "methods": [
              "__init__",
              "_load_model"
            ],
            "docstring": "HuggingFace模型接口"
          },
          {
            "name": "AIModelManager",
            "methods": [
              "__init__",
              "_load_default_models",
              "register_model",
              "select_model_for_capability",
              "_update_statistics",
              "get_statistics"
            ],
            "docstring": "AI模型管理器"
          }
        ],
        "functions": [
          {
            "name": "get_model_manager",
            "args": [],
            "docstring": "获取模型管理器单例"
          }
        ],
        "lines": 709,
        "x": 184.23994814242081,
        "y": -609.1382586632741
      }
    },
    {
      "id": "b72d38f78e8e",
      "name": "__init__",
      "type": "file",
      "path": "src/mcp_core/services/__init__.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 754,
      "complexity": 6,
      "x": 215.10301190143636,
      "y": -598.9363421992168,
      "metadata": {
        "language": "python",
        "imports": [
          "embedding_service",
          "hallucination_service",
          "memory_service",
          "redis_client",
          "token_service",
          "vector_db"
        ],
        "classes": [],
        "functions": [],
        "lines": 25,
        "x": 215.10301190143636,
        "y": -598.9363421992168
      }
    },
    {
      "id": "8a33e4ddfdb2",
      "name": "embedding_service",
      "type": "file",
      "path": "src/mcp_core/services/embedding_service.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 12928,
      "complexity": 28,
      "x": 245.4045967041307,
      "y": -587.1719575473455,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "functools",
          "pathlib",
          "typing",
          "numpy",
          "torch",
          "sentence_transformers",
          "common.config",
          "common.logger",
          "sklearn.metrics.pairwise",
          "sklearn.metrics.pairwise",
          "sklearn.metrics.pairwise",
          "sklearn.metrics.pairwise"
        ],
        "classes": [
          {
            "name": "EmbeddingService",
            "methods": [
              "__init__",
              "_resolve_model_path",
              "_validate_model_directory",
              "_setup_environment",
              "encode_single",
              "encode_batch",
              "encode_cached",
              "calculate_similarity",
              "calculate_similarity_matrix",
              "find_most_similar",
              "get_dimension",
              "get_model_info",
              "clear_cache"
            ],
            "docstring": "嵌入向量生成服务"
          }
        ],
        "functions": [
          {
            "name": "get_embedding_service",
            "args": [],
            "docstring": "获取嵌入服务单例\n\nReturns:\n    EmbeddingService实例"
          }
        ],
        "lines": 423,
        "x": 245.4045967041307,
        "y": -587.1719575473455
      }
    },
    {
      "id": "9b55674d7e81",
      "name": "websocket_server",
      "type": "file",
      "path": "src/mcp_core/services/websocket_server.py",
      "description": "Python模块，包含4个类，0个函数",
      "size": 20109,
      "complexity": 53,
      "x": 275.0661966816397,
      "y": -573.8755291944079,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "asyncio",
          "logging",
          "typing",
          "datetime",
          "dataclasses",
          "enum",
          "websockets",
          "websockets.server",
          "websockets.exceptions",
          "redis.asyncio",
          "common.logger",
          "uuid"
        ],
        "classes": [
          {
            "name": "MessageType",
            "methods": [],
            "docstring": "消息类型"
          },
          {
            "name": "WebSocketMessage",
            "methods": [
              "__post_init__",
              "to_json"
            ],
            "docstring": "WebSocket消息"
          },
          {
            "name": "Client",
            "methods": [
              "__post_init__"
            ],
            "docstring": "WebSocket客户端"
          },
          {
            "name": "WebSocketServer",
            "methods": [
              "__init__",
              "generate_client_id",
              "get_stats"
            ],
            "docstring": "WebSocket服务器"
          }
        ],
        "functions": [],
        "lines": 649,
        "x": 275.0661966816397,
        "y": -573.8755291944079
      }
    },
    {
      "id": "cac91ec2d55a",
      "name": "hallucination_service",
      "type": "file",
      "path": "src/mcp_core/services/hallucination_service.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 11733,
      "complexity": 23,
      "x": 304.00990095604476,
      "y": -559.0820319811064,
      "metadata": {
        "language": "python",
        "imports": [
          "re",
          "time",
          "typing",
          "numpy",
          "common.config",
          "common.logger",
          "embedding_service",
          "memory_service"
        ],
        "classes": [
          {
            "name": "HallucinationValidationService",
            "methods": [
              "__init__",
              "detect_hallucination",
              "batch_detect",
              "_calculate_adaptive_threshold",
              "_is_complex_task",
              "_retrieve_relevant_memories",
              "_build_no_memory_result",
              "_get_hallucination_reason",
              "get_hallucination_stats"
            ],
            "docstring": "幻觉验证服务"
          }
        ],
        "functions": [
          {
            "name": "create_hallucination_service",
            "args": [
              "memory_service"
            ],
            "docstring": "创建幻觉验证服务\n\nArgs:\n    memory_service: 记忆服务实例\n\nReturns:\n    HallucinationValidationService实例"
          }
        ],
        "lines": 379,
        "x": 304.00990095604476,
        "y": -559.0820319811064
      }
    },
    {
      "id": "de0f9fc39618",
      "name": "intelligent_code_generator",
      "type": "file",
      "path": "src/mcp_core/services/intelligent_code_generator.py",
      "description": "Python模块，包含9个类，1个函数",
      "size": 33361,
      "complexity": 112,
      "x": 332.16044892694663,
      "y": -542.8299314799651,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "re",
          "ast",
          "json",
          "asyncio",
          "typing",
          "dataclasses",
          "enum",
          "datetime",
          "hashlib",
          "common.logger",
          "common.config",
          "ai_model_manager",
          "pattern_recognizer",
          "experience_manager",
          "models",
          "services.redis_client"
        ],
        "classes": [
          {
            "name": "GenerationType",
            "methods": [],
            "docstring": "代码生成类型"
          },
          {
            "name": "CodeStyle",
            "methods": [],
            "docstring": "代码风格"
          },
          {
            "name": "GenerationContext",
            "methods": [],
            "docstring": "代码生成上下文"
          },
          {
            "name": "GenerationRequest",
            "methods": [],
            "docstring": "代码生成请求"
          },
          {
            "name": "GenerationResult",
            "methods": [],
            "docstring": "代码生成结果"
          },
          {
            "name": "CodeAnalyzer",
            "methods": [
              "analyze_code",
              "_analyze_python",
              "_analyze_javascript",
              "_analyze_java",
              "_analyze_generic",
              "_calculate_complexity"
            ],
            "docstring": "代码分析器"
          },
          {
            "name": "CodeOptimizer",
            "methods": [
              "__init__",
              "_get_python_rules",
              "_get_javascript_rules",
              "_get_java_rules"
            ],
            "docstring": "代码优化器"
          },
          {
            "name": "IntelligentCodeGenerator",
            "methods": [
              "__init__",
              "_load_templates",
              "_build_generation_prompt",
              "_select_capability",
              "_extract_code",
              "_calculate_quality_score",
              "_get_cache_key"
            ],
            "docstring": "智能代码生成器"
          },
          {
            "name": "TemplateManager",
            "methods": [
              "__init__",
              "_load_default_templates",
              "get_template",
              "render_template"
            ],
            "docstring": "模板管理器"
          }
        ],
        "functions": [
          {
            "name": "get_code_generator",
            "args": [],
            "docstring": "获取代码生成器单例"
          }
        ],
        "lines": 1016,
        "x": 332.16044892694663,
        "y": -542.8299314799651
      }
    },
    {
      "id": "62542329ebc3",
      "name": "evolution_api",
      "type": "file",
      "path": "src/mcp_core/services/evolution_api.py",
      "description": "Python模块，包含6个类，0个函数",
      "size": 23137,
      "complexity": 72,
      "x": 359.4446850316571,
      "y": -525.1614110753723,
      "metadata": {
        "language": "python",
        "imports": [
          "fastapi",
          "fastapi.responses",
          "pydantic",
          "typing",
          "datetime",
          "asyncio",
          "services.learning_system",
          "services.graph_generator",
          "services.collaboration_controller",
          "common.logger",
          "json",
          "json"
        ],
        "classes": [
          {
            "name": "LearnFromSessionRequest",
            "methods": [],
            "docstring": "学习请求"
          },
          {
            "name": "GetSuggestionsRequest",
            "methods": [],
            "docstring": "获取建议请求"
          },
          {
            "name": "GenerateGraphRequest",
            "methods": [],
            "docstring": "生成图谱请求"
          },
          {
            "name": "AssignTaskRequest",
            "methods": [],
            "docstring": "分配任务请求"
          },
          {
            "name": "AcquireLockRequest",
            "methods": [],
            "docstring": "获取锁请求"
          },
          {
            "name": "CheckConflictsRequest",
            "methods": [],
            "docstring": "检查冲突请求"
          }
        ],
        "functions": [],
        "lines": 720,
        "x": 359.4446850316571,
        "y": -525.1614110753723
      }
    },
    {
      "id": "0c04083fa880",
      "name": "multi_level_cache",
      "type": "file",
      "path": "src/mcp_core/services/multi_level_cache.py",
      "description": "Python模块，包含2个类，0个函数",
      "size": 8399,
      "complexity": 26,
      "x": 385.79090077776993,
      "y": -506.1229759838793,
      "metadata": {
        "language": "python",
        "imports": [
          "collections",
          "typing",
          "time",
          "threading",
          "common.logger",
          "json"
        ],
        "classes": [
          {
            "name": "LRUCache",
            "methods": [
              "__init__",
              "get",
              "set",
              "delete",
              "clear",
              "get_stats"
            ],
            "docstring": "线程安全的LRU缓存"
          },
          {
            "name": "MultiLevelCache",
            "methods": [
              "__init__",
              "get",
              "set",
              "delete",
              "invalidate_pattern",
              "get_stats",
              "warmup"
            ],
            "docstring": "多层缓存管理器\nL1 (内存) → L2 (Redis) → L3 (数据库)"
          }
        ],
        "functions": [],
        "lines": 286,
        "x": 385.79090077776993,
        "y": -506.1229759838793
      }
    },
    {
      "id": "8eb9b3aab184",
      "name": "redis_client",
      "type": "file",
      "path": "src/mcp_core/services/redis_client.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 12895,
      "complexity": 26,
      "x": 411.130852100569,
      "y": -485.76394168789795,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "typing",
          "redis",
          "redis.connection",
          "common.config",
          "common.logger",
          "common.utils",
          "multi_level_cache",
          "re",
          "datetime",
          "datetime"
        ],
        "classes": [
          {
            "name": "RedisClient",
            "methods": [
              "__init__",
              "_mask_url",
              "_redis_get_raw",
              "store_short_memory",
              "get_short_memories",
              "delete_short_memory",
              "cache_get",
              "cache_set",
              "cache_delete",
              "cache_retrieval_result",
              "get_cached_retrieval",
              "invalidate_cache",
              "increment_token_saved",
              "get_token_stats",
              "exists",
              "delete",
              "ttl",
              "close",
              "__enter__",
              "__exit__"
            ],
            "docstring": "Redis客户端封装类"
          }
        ],
        "functions": [
          {
            "name": "get_redis_client",
            "args": [],
            "docstring": "获取Redis客户端单例\n\nReturns:\n    RedisClient实例"
          }
        ],
        "lines": 441,
        "x": 411.130852100569,
        "y": -485.76394168789795
      }
    },
    {
      "id": "31dea14d1cfb",
      "name": "vector_db",
      "type": "file",
      "path": "src/mcp_core/services/vector_db.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 18321,
      "complexity": 24,
      "x": 435.3979310585229,
      "y": -464.13775346343175,
      "metadata": {
        "language": "python",
        "imports": [
          "time",
          "asyncio",
          "threading",
          "datetime",
          "typing",
          "pymilvus",
          "common.config",
          "common.logger",
          "websocket_service"
        ],
        "classes": [
          {
            "name": "VectorDBClient",
            "methods": [
              "__init__",
              "_init_collections",
              "create_collection",
              "insert_vectors",
              "_convert_to_entities",
              "search_vectors",
              "_notify_search_completed",
              "delete_vectors",
              "query_vectors",
              "get_collection_stats",
              "drop_collection",
              "close"
            ],
            "docstring": "Milvus向量数据库客户端"
          }
        ],
        "functions": [
          {
            "name": "get_vector_db_client",
            "args": [],
            "docstring": "获取向量数据库客户端单例\n\nReturns:\n    VectorDBClient实例"
          }
        ],
        "lines": 561,
        "x": 435.3979310585229,
        "y": -464.13775346343175
      }
    },
    {
      "id": "842fdb461e01",
      "name": "error_firewall_service",
      "type": "file",
      "path": "src/mcp_core/services/error_firewall_service.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 22209,
      "complexity": 26,
      "x": 458.52912980643066,
      "y": -441.30062999789607,
      "metadata": {
        "language": "python",
        "imports": [
          "hashlib",
          "json",
          "asyncio",
          "threading",
          "datetime",
          "typing",
          "sqlalchemy",
          "sqlalchemy.orm",
          "common.logger",
          "websocket_service",
          "websocket_service"
        ],
        "classes": [
          {
            "name": "ErrorFirewallService",
            "methods": [
              "__init__",
              "record_error",
              "get_error_by_id",
              "_update_error_occurrence",
              "check_operation",
              "_find_matching_errors",
              "_calculate_match_confidence",
              "_log_intercept",
              "_update_blocked_count",
              "get_statistics",
              "get_recent_errors",
              "_generate_error_id",
              "_notify_error_recorded",
              "_notify_error_intercepted"
            ],
            "docstring": "错误防火墙核心服务"
          }
        ],
        "functions": [
          {
            "name": "get_error_firewall_service",
            "args": [
              "db_session"
            ],
            "docstring": "获取错误防火墙服务单例\n\nArgs:\n    db_session: 数据库会话\n\nReturns:\n    ErrorFirewallService实例"
          }
        ],
        "lines": 650,
        "x": 458.52912980643066,
        "y": -441.30062999789607
      }
    },
    {
      "id": "32f0c4788768",
      "name": "dynamic_db_pool",
      "type": "file",
      "path": "src/mcp_core/services/dynamic_db_pool.py",
      "description": "Python模块，包含2个类，1个函数",
      "size": 16836,
      "complexity": 38,
      "x": 480.46424848465483,
      "y": -417.312013618032,
      "metadata": {
        "language": "python",
        "imports": [
          "time",
          "threading",
          "asyncio",
          "typing",
          "dataclasses",
          "datetime",
          "sqlalchemy",
          "sqlalchemy.engine",
          "sqlalchemy.pool",
          "common.logger",
          "common.config",
          "websocket_service",
          "websocket_service"
        ],
        "classes": [
          {
            "name": "PoolMetrics",
            "methods": [],
            "docstring": "连接池指标"
          },
          {
            "name": "DynamicConnectionPoolManager",
            "methods": [
              "__init__",
              "_create_engine",
              "_register_event_listeners",
              "start_monitoring",
              "stop",
              "_monitoring_loop",
              "_update_metrics",
              "_broadcast_pool_stats",
              "_should_adjust",
              "_adjust_pool_size",
              "_notify_pool_adjustment",
              "_resize_pool",
              "_check_alerts",
              "get_stats"
            ],
            "docstring": "动态连接池管理器"
          }
        ],
        "functions": [
          {
            "name": "get_dynamic_pool_manager",
            "args": [],
            "docstring": "获取动态连接池管理器单例"
          }
        ],
        "lines": 471,
        "x": 480.46424848465483,
        "y": -417.312013618032
      }
    },
    {
      "id": "b6dff9b35a07",
      "name": "experience_manager",
      "type": "file",
      "path": "src/mcp_core/services/experience_manager.py",
      "description": "Python模块，包含4个类，1个函数",
      "size": 38459,
      "complexity": 62,
      "x": 501.14563067462825,
      "y": -392.23487001903453,
      "metadata": {
        "language": "python",
        "imports": [
          "json",
          "pickle",
          "hashlib",
          "typing",
          "dataclasses",
          "datetime",
          "collections",
          "numpy",
          "sqlalchemy",
          "sqlalchemy.orm",
          "redis",
          "common.config",
          "common.logger",
          "services.embedding_service",
          "services.redis_client",
          "copy",
          "re"
        ],
        "classes": [
          {
            "name": "Experience",
            "methods": [],
            "docstring": "经验实体"
          },
          {
            "name": "ExperienceCluster",
            "methods": [],
            "docstring": "经验聚类"
          },
          {
            "name": "ExperienceRecommendation",
            "methods": [],
            "docstring": "经验推荐"
          },
          {
            "name": "ExperienceManagementSystem",
            "methods": [
              "__init__",
              "store_experience",
              "retrieve_experience",
              "evolve_experience",
              "share_experience",
              "multi_path_retrieval",
              "vector_search",
              "keyword_search",
              "tag_search",
              "category_search",
              "rerank_experiences",
              "generate_recommendation",
              "merge_experiences",
              "should_evolve",
              "create_evolved_version",
              "generate_experience_id",
              "calculate_experience_embedding",
              "find_similar_experiences",
              "evaluate_experience",
              "save_to_database",
              "update_caches",
              "update_indexes",
              "update_clusters_async",
              "get_experience",
              "update_experience",
              "record_retrieval",
              "update_statistics",
              "analyze_feedback",
              "apply_improvements",
              "adjust_scores",
              "clone_experience",
              "adapt_to_project",
              "create_sharing_link",
              "extract_keywords",
              "calculate_similarity",
              "calculate_keyword_score",
              "apply_filters",
              "merge_results",
              "calculate_context_match",
              "calculate_time_decay",
              "analyze_expected_benefit",
              "assess_risks",
              "generate_reasoning",
              "calculate_confidence",
              "combine_solutions",
              "apply_improvements_to_solution"
            ],
            "docstring": "智能经验管理系统"
          }
        ],
        "functions": [
          {
            "name": "get_experience_manager",
            "args": [],
            "docstring": "获取经验管理系统单例"
          }
        ],
        "lines": 1225,
        "x": 501.14563067462825,
        "y": -392.23487001903453
      }
    },
    {
      "id": "e322ce0903eb",
      "name": "learning_system",
      "type": "file",
      "path": "src/mcp_core/services/learning_system.py",
      "description": "Python模块，包含5个类，1个函数",
      "size": 34970,
      "complexity": 71,
      "x": 520.5197896723087,
      "y": -366.13418192161015,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "json",
          "hashlib",
          "datetime",
          "typing",
          "dataclasses",
          "numpy",
          "sqlalchemy",
          "sqlalchemy.orm",
          "models.base",
          "common.config",
          "common.logger",
          "services.embedding_service",
          "services.redis_client",
          "re",
          "re"
        ],
        "classes": [
          {
            "name": "CodingSession",
            "methods": [],
            "docstring": "编码会话数据"
          },
          {
            "name": "CodePattern",
            "methods": [],
            "docstring": "代码模式"
          },
          {
            "name": "LearningExperience",
            "methods": [],
            "docstring": "学习经验"
          },
          {
            "name": "SolutionRecommendation",
            "methods": [],
            "docstring": "解决方案推荐"
          },
          {
            "name": "CodingLearningSystem",
            "methods": [
              "__init__",
              "learn_from_session",
              "extract_patterns",
              "identify_best_practices",
              "record_error_fixes",
              "suggest_solution",
              "find_similar_experiences",
              "adapt_solution",
              "update_pattern_library",
              "generate_solution_templates",
              "evaluate_experience_value",
              "calculate_quality_score",
              "calculate_complexity_score",
              "calculate_reusability_score",
              "calculate_learning_value",
              "analyze_code_diff",
              "identify_structural_patterns",
              "create_pattern",
              "store_experience",
              "generate_id",
              "cache_template",
              "generate_learning_summary",
              "analyze_context",
              "extract_keywords",
              "extract_file_types",
              "estimate_complexity",
              "calculate_confidence",
              "compare_contexts",
              "generate_recommendation_reasoning",
              "identify_refactor_patterns",
              "identify_optimization_patterns",
              "identify_fix_patterns",
              "evaluate_pattern_quality",
              "analyze_pattern_benefits",
              "classify_error_type",
              "extract_error_pattern",
              "extract_fix_pattern",
              "generate_prevention_tips",
              "generate_template_code",
              "extract_template_variables",
              "generate_usage_guide"
            ],
            "docstring": "编码学习系统 - 越用越聪明"
          }
        ],
        "functions": [
          {
            "name": "get_learning_system",
            "args": [],
            "docstring": "获取学习系统单例"
          }
        ],
        "lines": 990,
        "x": 520.5197896723087,
        "y": -366.13418192161015
      }
    },
    {
      "id": "3f1fdf4bacf9",
      "name": "token_service",
      "type": "file",
      "path": "src/mcp_core/services/token_service.py",
      "description": "Python模块，包含1个类，1个函数",
      "size": 10312,
      "complexity": 26,
      "x": 538.5357453114448,
      "y": -339.07852834187827,
      "metadata": {
        "language": "python",
        "imports": [
          "hashlib",
          "time",
          "typing",
          "common.config",
          "common.logger",
          "compressors.code_compressor",
          "compressors.text_compressor",
          "redis_client",
          "re",
          "json",
          "json"
        ],
        "classes": [
          {
            "name": "TokenOptimizationService",
            "methods": [
              "__init__",
              "compress_content",
              "batch_compress",
              "calculate_token_savings",
              "_count_tokens",
              "_detect_content_type",
              "_hash_content",
              "_get_cached_compression",
              "_cache_compression",
              "get_compression_stats"
            ],
            "docstring": "Token优化服务"
          }
        ],
        "functions": [
          {
            "name": "get_token_service",
            "args": [],
            "docstring": "获取Token服务单例\n\nReturns:\n    TokenOptimizationService实例"
          }
        ],
        "lines": 350,
        "x": 538.5357453114448,
        "y": -339.07852834187827
      }
    },
    {
      "id": "0bbf9fd3e51e",
      "name": "graph_generator",
      "type": "file",
      "path": "src/mcp_core/services/graph_generator.py",
      "description": "Python模块，包含4个类，1个函数",
      "size": 38273,
      "complexity": 67,
      "x": 555.1468766600103,
      "y": -311.1379934603549,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "json",
          "hashlib",
          "ast",
          "networkx",
          "pathlib",
          "datetime",
          "typing",
          "dataclasses",
          "numpy",
          "sqlalchemy",
          "sqlalchemy.orm",
          "models.base",
          "common.config",
          "common.logger",
          "code_analyzer",
          "java_analyzer",
          "multi_lang_analyzer",
          "services.embedding_service",
          "services.redis_client",
          "re",
          "community"
        ],
        "classes": [
          {
            "name": "GraphNode",
            "methods": [],
            "docstring": "图谱节点"
          },
          {
            "name": "GraphEdge",
            "methods": [],
            "docstring": "图谱边"
          },
          {
            "name": "ProjectGraph",
            "methods": [],
            "docstring": "项目知识图谱"
          },
          {
            "name": "ProjectGraphGenerator",
            "methods": [
              "__init__",
              "generate_graph",
              "analyze_codebase",
              "build_nodes",
              "build_edges",
              "enhance_with_semantics",
              "calculate_importance_metrics",
              "identify_architectural_patterns",
              "perform_clustering",
              "extract_layers",
              "calculate_layout",
              "generate_visualization",
              "generate_heatmap",
              "create_navigation_tree",
              "store_graph",
              "generate_project_id",
              "generate_edge_id",
              "get_node_color",
              "get_node_size",
              "get_edge_style",
              "get_edge_color",
              "calculate_edge_weight",
              "find_entity_by_name",
              "extract_keywords",
              "calculate_code_complexity",
              "detect_mvc_pattern",
              "detect_layered_architecture",
              "detect_microservices",
              "detect_design_patterns",
              "generate_cluster_name",
              "get_dominant_type",
              "calculate_cluster_cohesion",
              "get_layer_name",
              "generate_statistics"
            ],
            "docstring": "项目图谱生成器 - 让人和AI都懂项目"
          }
        ],
        "functions": [
          {
            "name": "get_graph_generator",
            "args": [],
            "docstring": "获取图谱生成器单例"
          }
        ],
        "lines": 1103,
        "x": 555.1468766600103,
        "y": -311.1379934603549
      }
    },
    {
      "id": "8b690d0124ea",
      "name": "intelligent_operations_system",
      "type": "file",
      "path": "src/mcp_core/services/intelligent_operations_system.py",
      "description": "Python模块，包含12个类，1个函数",
      "size": 33673,
      "complexity": 154,
      "x": 570.3094864221565,
      "y": -282.3859925661914,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "sys",
          "time",
          "asyncio",
          "psutil",
          "docker",
          "kubernetes",
          "subprocess",
          "typing",
          "dataclasses",
          "enum",
          "datetime",
          "collections",
          "json",
          "yaml",
          "smtplib",
          "requests",
          "email.mime.text",
          "email.mime.multipart",
          "prometheus_client",
          "prometheus_client",
          "logging",
          "logging.handlers",
          "common.logger",
          "common.config",
          "models",
          "services.redis_client",
          "services.ai_model_manager",
          "gc"
        ],
        "classes": [
          {
            "name": "ServiceStatus",
            "methods": [],
            "docstring": "服务状态"
          },
          {
            "name": "IncidentSeverity",
            "methods": [],
            "docstring": "事件严重性"
          },
          {
            "name": "MaintenanceType",
            "methods": [],
            "docstring": "维护类型"
          },
          {
            "name": "OperationsConfig",
            "methods": [],
            "docstring": "运维配置"
          },
          {
            "name": "HealthCheck",
            "methods": [],
            "docstring": "健康检查"
          },
          {
            "name": "Alert",
            "methods": [],
            "docstring": "告警"
          },
          {
            "name": "MonitoringManager",
            "methods": [
              "__init__",
              "_get_network_metrics",
              "_get_process_metrics",
              "register_health_check",
              "get_service_status"
            ],
            "docstring": "监控管理器"
          },
          {
            "name": "AlertManager",
            "methods": [
              "__init__"
            ],
            "docstring": "告警管理器"
          },
          {
            "name": "LogManager",
            "methods": [
              "__init__",
              "_setup_loggers"
            ],
            "docstring": "日志管理器"
          },
          {
            "name": "BackupManager",
            "methods": [
              "__init__",
              "_get_dir_size"
            ],
            "docstring": "备份管理器"
          },
          {
            "name": "ContainerManager",
            "methods": [
              "__init__"
            ],
            "docstring": "容器管理器"
          },
          {
            "name": "IntelligentOperationsSystem",
            "methods": [
              "__init__",
              "_register_default_health_checks"
            ],
            "docstring": "智能运维系统"
          }
        ],
        "functions": [
          {
            "name": "get_operations_system",
            "args": [],
            "docstring": "获取运维系统单例"
          }
        ],
        "lines": 992,
        "x": 570.3094864221565,
        "y": -282.3859925661914
      }
    },
    {
      "id": "ca2f15b7acbb",
      "name": "memory_service",
      "type": "file",
      "path": "src/mcp_core/services/memory_service.py",
      "description": "Python模块，包含1个类，0个函数",
      "size": 19959,
      "complexity": 23,
      "x": 583.9842379102363,
      "y": -252.89727394071505,
      "metadata": {
        "language": "python",
        "imports": [
          "re",
          "time",
          "datetime",
          "typing",
          "sqlalchemy.orm",
          "common.config",
          "common.logger",
          "common.utils",
          "models.tables",
          "embedding_service",
          "redis_client",
          "vector_db",
          "jieba"
        ],
        "classes": [
          {
            "name": "MemoryService",
            "methods": [
              "__init__",
              "store_memory",
              "_store_short_memory",
              "_store_mid_memory",
              "_store_long_memory",
              "retrieve_memory",
              "_retrieve_short_memories",
              "_retrieve_mid_memories",
              "_retrieve_long_memories",
              "update_memory",
              "delete_memory",
              "_extract_core_info",
              "_calculate_relevance_score",
              "_deduplicate_memories",
              "_extract_keywords"
            ],
            "docstring": "记忆管理服务"
          }
        ],
        "functions": [],
        "lines": 607,
        "x": 583.9842379102363,
        "y": -252.89727394071505
      }
    },
    {
      "id": "fcb11bd78ed2",
      "name": "enterprise_security_system",
      "type": "file",
      "path": "src/mcp_core/services/enterprise_security_system.py",
      "description": "Python模块，包含17个类，1个函数",
      "size": 32843,
      "complexity": 201,
      "x": 596.1355494402553,
      "y": -222.74848187830085,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "jwt",
          "bcrypt",
          "secrets",
          "hashlib",
          "asyncio",
          "re",
          "typing",
          "dataclasses",
          "enum",
          "datetime",
          "json",
          "base64",
          "cryptography.fernet",
          "cryptography.hazmat.primitives",
          "cryptography.hazmat.primitives.kdf.pbkdf2",
          "cryptography.hazmat.primitives.ciphers",
          "cryptography.hazmat.backends",
          "pyotp",
          "aiohttp",
          "sqlalchemy",
          "common.logger",
          "common.config",
          "models",
          "services.redis_client",
          "string"
        ],
        "classes": [
          {
            "name": "SecurityLevel",
            "methods": [],
            "docstring": "安全级别"
          },
          {
            "name": "AuthMethod",
            "methods": [],
            "docstring": "认证方法"
          },
          {
            "name": "Permission",
            "methods": [],
            "docstring": "权限类型"
          },
          {
            "name": "SecurityConfig",
            "methods": [],
            "docstring": "安全配置"
          },
          {
            "name": "User",
            "methods": [],
            "docstring": "用户模型"
          },
          {
            "name": "Session",
            "methods": [],
            "docstring": "会话模型"
          },
          {
            "name": "AuditLog",
            "methods": [],
            "docstring": "审计日志模型"
          },
          {
            "name": "SecurityIncident",
            "methods": [],
            "docstring": "安全事件模型"
          },
          {
            "name": "PasswordManager",
            "methods": [
              "__init__",
              "hash_password",
              "verify_password",
              "validate_password_strength",
              "generate_secure_password"
            ],
            "docstring": "密码管理器"
          },
          {
            "name": "TokenManager",
            "methods": [
              "__init__",
              "generate_token",
              "verify_token",
              "generate_refresh_token",
              "generate_api_key"
            ],
            "docstring": "令牌管理器"
          },
          {
            "name": "MFAManager",
            "methods": [
              "generate_secret",
              "generate_qr_code",
              "verify_totp",
              "generate_backup_codes"
            ],
            "docstring": "多因素认证管理器"
          },
          {
            "name": "EncryptionManager",
            "methods": [
              "__init__",
              "encrypt",
              "decrypt",
              "encrypt_file",
              "decrypt_file",
              "hash_data",
              "generate_encryption_key"
            ],
            "docstring": "加密管理器"
          },
          {
            "name": "AccessControlManager",
            "methods": [
              "__init__",
              "check_permission",
              "get_user_permissions",
              "grant_permission",
              "revoke_permission"
            ],
            "docstring": "访问控制管理器"
          },
          {
            "name": "AuditManager",
            "methods": [
              "__init__",
              "get_audit_logs"
            ],
            "docstring": "审计管理器"
          },
          {
            "name": "ThreatDetector",
            "methods": [
              "__init__",
              "_get_threat_severity"
            ],
            "docstring": "威胁检测器"
          },
          {
            "name": "DataProtectionManager",
            "methods": [
              "__init__",
              "mask_sensitive_data",
              "encrypt_field",
              "decrypt_field",
              "generate_data_retention_policy"
            ],
            "docstring": "数据保护管理器"
          },
          {
            "name": "EnterpriseSecurityManager",
            "methods": [
              "__init__",
              "get_security_headers"
            ],
            "docstring": "企业安全管理器"
          }
        ],
        "functions": [
          {
            "name": "get_security_manager",
            "args": [],
            "docstring": "获取安全管理器单例"
          }
        ],
        "lines": 952,
        "x": 596.1355494402553,
        "y": -222.74848187830085
      }
    },
    {
      "id": "55df9a71b812",
      "name": "pattern_recognizer",
      "type": "file",
      "path": "src/mcp_core/services/pattern_recognizer.py",
      "description": "Python模块，包含4个类，1个函数",
      "size": 36854,
      "complexity": 58,
      "x": 606.7314445732635,
      "y": -192.01885374868613,
      "metadata": {
        "language": "python",
        "imports": [
          "re",
          "ast",
          "json",
          "hashlib",
          "typing",
          "dataclasses",
          "datetime",
          "collections",
          "numpy",
          "sklearn.cluster",
          "sklearn.feature_extraction.text",
          "common.logger",
          "services.embedding_service"
        ],
        "classes": [
          {
            "name": "PatternFeature",
            "methods": [],
            "docstring": "模式特征"
          },
          {
            "name": "CodePattern",
            "methods": [],
            "docstring": "增强版代码模式"
          },
          {
            "name": "PatternCluster",
            "methods": [],
            "docstring": "模式聚类"
          },
          {
            "name": "AdvancedPatternRecognizer",
            "methods": [
              "__init__",
              "recognize_patterns",
              "preprocess_code",
              "extract_all_features",
              "extract_structural_features",
              "extract_semantic_features",
              "extract_behavioral_features",
              "extract_quality_features",
              "quick_pattern_match",
              "deep_pattern_analysis",
              "recognize_composite_patterns",
              "detect_anti_patterns",
              "classify_design_pattern",
              "classify_anti_pattern",
              "classify_code_smell",
              "classify_optimization_pattern",
              "detect_pattern_evolution",
              "discover_new_patterns",
              "evolve_pattern",
              "create_pattern",
              "generate_pattern_id",
              "normalize_code",
              "tokenize_code",
              "calculate_complexity",
              "detect_duplicates",
              "features_to_vector",
              "feature_to_vector",
              "calculate_pattern_similarity",
              "pattern_to_vector",
              "matches_evolved_pattern",
              "matches_known_pattern",
              "analyze_pattern_changes",
              "deduplicate_and_rank",
              "update_pattern_library"
            ],
            "docstring": "高级模式识别器"
          }
        ],
        "functions": [
          {
            "name": "get_pattern_recognizer",
            "args": [],
            "docstring": "获取模式识别器单例"
          }
        ],
        "lines": 1083,
        "x": 606.7314445732635,
        "y": -192.01885374868613
      }
    },
    {
      "id": "addc0f484c9b",
      "name": "collaboration_controller",
      "type": "file",
      "path": "src/mcp_core/services/collaboration_controller.py",
      "description": "Python模块，包含11个类，1个函数",
      "size": 45251,
      "complexity": 132,
      "x": 615.7444967151611,
      "y": -160.78795638618985,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "json",
          "hashlib",
          "asyncio",
          "threading",
          "datetime",
          "typing",
          "dataclasses",
          "enum",
          "numpy",
          "sqlalchemy",
          "sqlalchemy.orm",
          "models.base",
          "common.config",
          "common.logger",
          "services.redis_client",
          "re"
        ],
        "classes": [
          {
            "name": "LockType",
            "methods": [],
            "docstring": "锁类型"
          },
          {
            "name": "LockLevel",
            "methods": [],
            "docstring": "锁级别"
          },
          {
            "name": "LockStatus",
            "methods": [],
            "docstring": "锁状态"
          },
          {
            "name": "TaskStatus",
            "methods": [],
            "docstring": "任务状态"
          },
          {
            "name": "ConflictStrategy",
            "methods": [],
            "docstring": "冲突策略"
          },
          {
            "name": "AIAgent",
            "methods": [],
            "docstring": "AI代理"
          },
          {
            "name": "Task",
            "methods": [],
            "docstring": "任务"
          },
          {
            "name": "Lock",
            "methods": [],
            "docstring": "锁"
          },
          {
            "name": "Conflict",
            "methods": [],
            "docstring": "冲突"
          },
          {
            "name": "CollaborationSession",
            "methods": [],
            "docstring": "协作会话"
          },
          {
            "name": "MultiAICollaborationController",
            "methods": [
              "__init__",
              "assign_task",
              "decompose_task",
              "decompose_by_functionality",
              "analyze_dependencies",
              "identify_parallel_groups",
              "select_best_agent",
              "calculate_agent_task_score",
              "acquire_locks_for_task",
              "request_lock",
              "check_lock_conflicts",
              "are_locks_compatible",
              "regions_overlap",
              "handle_lock_conflicts",
              "release_lock",
              "release_expired_locks",
              "prevent_conflicts",
              "check_file_conflicts",
              "check_semantic_conflicts",
              "negotiate_resolution",
              "auto_merge_changes",
              "coordinate_agents",
              "generate_lock_id",
              "generate_conflict_id",
              "create_waiting_lock",
              "create_acquired_lock",
              "store_lock",
              "update_lock_status",
              "store_assignments",
              "notify_waiters",
              "extract_keywords",
              "extract_functionalities",
              "has_file_dependency",
              "has_logical_dependency",
              "topological_sort",
              "has_resource_conflict",
              "estimate_start_time",
              "can_preempt",
              "preempt_lock",
              "estimate_wait_time",
              "estimate_conflict_resolution_time",
              "create_merge_plan",
              "negotiate_with_agent",
              "acquire_locks_for_changes",
              "analyze_semantic_impact",
              "get_task_semantics",
              "calculate_semantic_similarity",
              "modifications_conflict",
              "smart_merge_modifications",
              "get_task_progress",
              "optimize_task_distribution",
              "allocate_resources",
              "create_timeline"
            ],
            "docstring": "多AI协同控制器 - 无冲突并行开发"
          }
        ],
        "functions": [
          {
            "name": "get_collaboration_controller",
            "args": [],
            "docstring": "获取协同控制器单例"
          }
        ],
        "lines": 1387,
        "x": 615.7444967151611,
        "y": -160.78795638618985
      }
    },
    {
      "id": "fcf7f3382eac",
      "name": "text_compressor",
      "type": "file",
      "path": "src/mcp_core/services/compressors/text_compressor.py",
      "description": "Python模块，包含1个类，0个函数",
      "size": 7591,
      "complexity": 15,
      "x": 623.1510755050746,
      "y": -129.1378909915629,
      "metadata": {
        "language": "python",
        "imports": [
          "re",
          "typing",
          "common.logger",
          "collections",
          "summa.summarizer"
        ],
        "classes": [
          {
            "name": "TextCompressor",
            "methods": [
              "__init__",
              "compress",
              "_compress_with_textrank",
              "_compress_with_sentence_ranking",
              "_split_sentences",
              "_calculate_sentence_score",
              "_compress_with_truncation",
              "extract_keywords",
              "get_compression_info"
            ],
            "docstring": "文本压缩器"
          }
        ],
        "functions": [],
        "lines": 276,
        "x": 623.1510755050746,
        "y": -129.1378909915629
      }
    },
    {
      "id": "50e0f5405b7b",
      "name": "__init__",
      "type": "file",
      "path": "src/mcp_core/services/compressors/__init__.py",
      "description": "Python模块，包含0个类，0个函数",
      "size": 159,
      "complexity": 2,
      "x": 628.9319098386567,
      "y": -97.15091512430494,
      "metadata": {
        "language": "python",
        "imports": [
          "code_compressor",
          "text_compressor"
        ],
        "classes": [],
        "functions": [],
        "lines": 6,
        "x": 628.9319098386567,
        "y": -97.15091512430494
      }
    },
    {
      "id": "ea9e067a10ea",
      "name": "code_compressor",
      "type": "file",
      "path": "src/mcp_core/services/compressors/code_compressor.py",
      "description": "Python模块，包含1个类，0个函数",
      "size": 8993,
      "complexity": 14,
      "x": 633.0719399979026,
      "y": -64.9101918083869,
      "metadata": {
        "language": "python",
        "imports": [
          "ast",
          "re",
          "typing",
          "common.logger"
        ],
        "classes": [
          {
            "name": "CodeCompressor",
            "methods": [
              "__init__",
              "compress",
              "_compress_python",
              "_extract_class_summary",
              "_extract_function_summary",
              "_is_method",
              "_compress_javascript",
              "_compress_generic",
              "_detect_language",
              "get_compression_info"
            ],
            "docstring": "代码压缩器"
          }
        ],
        "functions": [],
        "lines": 278,
        "x": 633.0719399979026,
        "y": -64.9101918083869
      }
    },
    {
      "id": "4d070d2e92fb",
      "name": "graph_generator_tool",
      "type": "file",
      "path": "src/mcp_tools/graph_generator_tool.py",
      "description": "Python模块，包含4个类，1个函数",
      "size": 21227,
      "complexity": 54,
      "x": 635.5602792451796,
      "y": -32.500410278614105,
      "metadata": {
        "language": "python",
        "imports": [
          "os",
          "json",
          "asyncio",
          "typing",
          "pathlib",
          "typing",
          "dataclasses",
          "src.mcp_core.services.project_graph_generator",
          "src.mcp_core.common.logger"
        ],
        "classes": [
          {
            "name": "ToolResponse",
            "methods": [],
            "docstring": null
          },
          {
            "name": "Tool",
            "methods": [],
            "docstring": null
          },
          {
            "name": "GraphGeneratorTool",
            "methods": [
              "_generate_statistics",
              "_generate_html_visualization"
            ],
            "docstring": "生成项目知识图谱的MCP工具\n\n使用方法：\n1. 分析当前项目：generate_project_graph()\n2. 分析指定项目：generate_project_graph(path=\"/path/to/project\")\n3. 自定义选项：generate_project_graph(path=\"/path\", format=\"html\")"
          },
          {
            "name": "ViewGraphTool",
            "methods": [],
            "docstring": "查看已生成的项目图谱"
          }
        ],
        "functions": [
          {
            "name": "register_tools",
            "args": [],
            "docstring": "注册图谱生成工具"
          }
        ],
        "lines": 642,
        "x": 635.5602792451796,
        "y": -32.500410278614105
      }
    }
  ],
  "edges": [
    {
      "source": "25baff532b5d",
      "target": "80cf0939842e",
      "type": "imports",
      "weight": 1.0,
      "metadata": {
        "dependency": "./services/websocket"
      }
    },
    {
      "source": "a8f5bd892a69",
      "target": "80cf0939842e",
      "type": "imports",
      "weight": 1.0,
      "metadata": {
        "dependency": "../services/websocket"
      }
    },
    {
      "source": "a8f5bd892a69",
      "target": "e8fed71e8cb4",
      "type": "imports",
      "weight": 1.0,
      "metadata": {
        "dependency": "../types"
      }
    },
    {
      "source": "4b27deef884e",
      "target": "80cf0939842e",
      "type": "imports",
      "weight": 1.0,
      "metadata": {
        "dependency": "../services/websocket"
      }
    },
    {
      "source": "4b27deef884e",
      "target": "e8fed71e8cb4",
      "type": "imports",
      "weight": 1.0,
      "metadata": {
        "dependency": "../types"
      }
    },
    {
      "source": "76e3ca749a08",
      "target": "80cf0939842e",
      "type": "imports",
      "weight": 1.0,
      "metadata": {
        "dependency": "../services/websocket"
      }
    },
    {
      "source": "76e3ca749a08",
      "target": "e8fed71e8cb4",
      "type": "imports",
      "weight": 1.0,
      "metadata": {
        "dependency": "../types"
      }
    },
    {
      "source": "c594fcd72ae9",
      "target": "80cf0939842e",
      "type": "imports",
      "weight": 1.0,
      "metadata": {
        "dependency": "../services/websocket"
      }
    },
    {
      "source": "c594fcd72ae9",
      "target": "e8fed71e8cb4",
      "type": "imports",
      "weight": 1.0,
      "metadata": {
        "dependency": "../types"
      }
    },
    {
      "source": "80cf0939842e",
      "target": "e8fed71e8cb4",
      "type": "imports",
      "weight": 1.0,
      "metadata": {
        "dependency": "../types"
      }
    }
  ],
  "metadata": {
    "project_name": "MCP",
    "project_path": "/Users/mac/Downloads/MCP",
    "total_files": 123,
    "total_dependencies": 10,
    "analysis_time": "2025-11-20T23:46:37.052695",
    "language_stats": {
      "python": 105,
      "javascript": 13,
      "typescript": 4,
      "unknown": 1
    }
  }
}